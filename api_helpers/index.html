
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content=""Automated analysis of muscle architecture in ultrasonography images and videos using deep learning"">
      
      
      
      
        <link rel="prev" href="../api_model_training/">
      
      
      
        
      
      
      <link rel="icon" href="../md_graphics/DLTrack_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>GUI helpers - DL_Track_US</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../overrides/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gui-helper-modules" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DL_Track_US" class="md-header__button md-logo" aria-label="DL_Track_US" data-md-component="logo">
      
  <img src="../md_graphics/DLTrack_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DL_Track_US
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GUI helpers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/PaulRitsche/DL_Track_US" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    DL_Track_US
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DL_Track_US" class="md-nav__button md-logo" aria-label="DL_Track_US" data-md-component="logo">
      
  <img src="../md_graphics/DLTrack_logo.png" alt="logo">

    </a>
    DL_Track_US
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PaulRitsche/DL_Track_US" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    DL_Track_US
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../news/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    News
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automated_image_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Image Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual_image_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual Image Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automated_video_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Video Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual_video_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual Video Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced Methods
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Methods
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../training_your_own_networks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training Your Own Networks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inspecting_masks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inspecting Masks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../crop_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Crop Video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remove_video_parts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remove Video Parts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resize_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resize Video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tests
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tests
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automated_image_analysis_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Image Analysis Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual_image_video_analysis_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual Img/Vid Analysis Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automated_video_analysis_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Video Analysis Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_training_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Training Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Older Versions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Older Versions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../older_versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DL_Track_US v0.3.0
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_of_conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about_us/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About Us
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" checked>
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DL_Track_US
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_advanced_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_model_training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Training
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    GUI helpers
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    GUI helpers
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.doCalculations" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations_curved
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.crop" class="md-nav__link">
    <span class="md-ellipsis">
      
        crop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_connect" class="md-nav__link">
    <span class="md-ellipsis">
      
        curve_connect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_polyfitting" class="md-nav__link">
    <span class="md-ellipsis">
      
        curve_polyfitting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.doCalculations_curved" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculations_curved
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.do_curves_intersect" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_curves_intersect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle_linear" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle_linear
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_next_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_next_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.is_point_in_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_point_in_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.orientation_map" class="md-nav__link">
    <span class="md-ellipsis">
      
        orientation_map
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations_video
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.build_apo_from_edges" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_apo_from_edges
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.compute_muscle_thickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_muscle_thickness
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.doCalculationsVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculationsVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.optimize_fascicle_loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        optimize_fascicle_loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        curved_fascicles_functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.crop" class="md-nav__link">
    <span class="md-ellipsis">
      
        crop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.do_curves_intersect" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_curves_intersect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle_linear" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle_linear
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_next_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_next_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.is_point_in_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_point_in_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.applyFilters" class="md-nav__link">
    <span class="md-ellipsis">
      
        applyFilters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.apply_rate_limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_rate_limit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.hampelFilterList" class="md-nav__link">
    <span class="md-ellipsis">
      
        hampelFilterList
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatch
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatchManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatchManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.exportToExcel" class="md-nav__link">
    <span class="md-ellipsis">
      
        exportToExcel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.getFlipFlagsList" class="md-nav__link">
    <span class="md-ellipsis">
      
        getFlipFlagsList
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.importAndReshapeImage" class="md-nav__link">
    <span class="md-ellipsis">
      
        importAndReshapeImage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.importImageManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        importImageManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.preprocess_function" class="md-nav__link">
    <span class="md-ellipsis">
      
        preprocess_function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_architecture_video
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateArchitectureVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideoManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateArchitectureVideoManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        importVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideoManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        importVideoManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calibrate" class="md-nav__link">
    <span class="md-ellipsis">
      
        calibrate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calibrate.calibrateDistanceStatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        calibrateDistanceStatic
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing" class="md-nav__link">
    <span class="md-ellipsis">
      
        manual_tracing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        ManualAnalysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ManualAnalysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatchManual
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateFascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateFascicles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculatePennation" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculatePennation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateThickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateThickness
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.click" class="md-nav__link">
    <span class="md-ellipsis">
      
        click
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.closeWindow" class="md-nav__link">
    <span class="md-ellipsis">
      
        closeWindow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.compileSaveResults" class="md-nav__link">
    <span class="md-ellipsis">
      
        compileSaveResults
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.drag" class="md-nav__link">
    <span class="md-ellipsis">
      
        drag
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.getAngle" class="md-nav__link">
    <span class="md-ellipsis">
      
        getAngle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.release" class="md-nav__link">
    <span class="md-ellipsis">
      
        release
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.saveResults" class="md-nav__link">
    <span class="md-ellipsis">
      
        saveResults
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setAngles" class="md-nav__link">
    <span class="md-ellipsis">
      
        setAngles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setApo" class="md-nav__link">
    <span class="md-ellipsis">
      
        setApo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setFascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        setFascicles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setScale" class="md-nav__link">
    <span class="md-ellipsis">
      
        setScale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setThickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        setThickness
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.stopAnalysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        stopAnalysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.updateImage" class="md-nav__link">
    <span class="md-ellipsis">
      
        updateImage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.doCalculations" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations_curved
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.crop" class="md-nav__link">
    <span class="md-ellipsis">
      
        crop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_connect" class="md-nav__link">
    <span class="md-ellipsis">
      
        curve_connect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_polyfitting" class="md-nav__link">
    <span class="md-ellipsis">
      
        curve_polyfitting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.doCalculations_curved" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculations_curved
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.do_curves_intersect" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_curves_intersect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle_linear" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle_linear
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_next_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_next_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.is_point_in_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_point_in_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.orientation_map" class="md-nav__link">
    <span class="md-ellipsis">
      
        orientation_map
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_curved.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_calculations_video
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.build_apo_from_edges" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_apo_from_edges
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.compute_muscle_thickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_muscle_thickness
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.doCalculationsVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        doCalculationsVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.do_calculations_video.optimize_fascicle_loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        optimize_fascicle_loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        curved_fascicles_functions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_filter_fascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        adapted_filter_fascicles
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.contourEdge" class="md-nav__link">
    <span class="md-ellipsis">
      
        contourEdge
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.crop" class="md-nav__link">
    <span class="md-ellipsis">
      
        crop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.do_curves_intersect" class="md-nav__link">
    <span class="md-ellipsis">
      
        do_curves_intersect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle_linear" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_complete_fascicle_linear
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_next_fascicle" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_next_fascicle
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.is_point_in_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_point_in_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.sortContours" class="md-nav__link">
    <span class="md-ellipsis">
      
        sortContours
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.applyFilters" class="md-nav__link">
    <span class="md-ellipsis">
      
        applyFilters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.apply_rate_limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_rate_limit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.filter_data.hampelFilterList" class="md-nav__link">
    <span class="md-ellipsis">
      
        hampelFilterList
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatch
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatchManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatchManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.exportToExcel" class="md-nav__link">
    <span class="md-ellipsis">
      
        exportToExcel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.getFlipFlagsList" class="md-nav__link">
    <span class="md-ellipsis">
      
        getFlipFlagsList
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.importAndReshapeImage" class="md-nav__link">
    <span class="md-ellipsis">
      
        importAndReshapeImage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.importImageManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        importImageManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture.preprocess_function" class="md-nav__link">
    <span class="md-ellipsis">
      
        preprocess_function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_architecture_video
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateArchitectureVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideoManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateArchitectureVideoManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideo" class="md-nav__link">
    <span class="md-ellipsis">
      
        importVideo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideoManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        importVideoManual
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calibrate" class="md-nav__link">
    <span class="md-ellipsis">
      
        calibrate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.calibrate.calibrateDistanceStatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        calibrateDistanceStatic
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing" class="md-nav__link">
    <span class="md-ellipsis">
      
        manual_tracing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        ManualAnalysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ManualAnalysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateBatchManual
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateFascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateFascicles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculatePennation" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculatePennation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateThickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculateThickness
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.click" class="md-nav__link">
    <span class="md-ellipsis">
      
        click
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.closeWindow" class="md-nav__link">
    <span class="md-ellipsis">
      
        closeWindow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.compileSaveResults" class="md-nav__link">
    <span class="md-ellipsis">
      
        compileSaveResults
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.drag" class="md-nav__link">
    <span class="md-ellipsis">
      
        drag
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.getAngle" class="md-nav__link">
    <span class="md-ellipsis">
      
        getAngle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.release" class="md-nav__link">
    <span class="md-ellipsis">
      
        release
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.saveResults" class="md-nav__link">
    <span class="md-ellipsis">
      
        saveResults
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setAngles" class="md-nav__link">
    <span class="md-ellipsis">
      
        setAngles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setApo" class="md-nav__link">
    <span class="md-ellipsis">
      
        setApo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setFascicles" class="md-nav__link">
    <span class="md-ellipsis">
      
        setFascicles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setScale" class="md-nav__link">
    <span class="md-ellipsis">
      
        setScale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setThickness" class="md-nav__link">
    <span class="md-ellipsis">
      
        setThickness
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.stopAnalysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        stopAnalysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.updateImage" class="md-nav__link">
    <span class="md-ellipsis">
      
        updateImage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="gui-helper-modules">GUI helper modules<a class="headerlink" href="#gui-helper-modules" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.do_calculations"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions to calculate muscle architectural
parameters based on binary segmentations by convolutional neural networks.
The parameters include muscle thickness, pennation angle and fascicle length.
First, input images are segmented by the CNNs. Then the predicted aponeuroses
and fascicle fragments are thresholded and filtered. Fascicle fragments
and aponeuroses are extrapolated and the intersections determined.
This module is specifically designed for single image analysis.
The architectural parameters are calculated and the results are plotted.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>sortContours
    Function to sort detected contours from proximal to distal.
contourEdge
    Function to find only the coordinates representing one edge
    of a contour.
doCalculations
    Function to compute muscle architectural parameters based on
    convolutional neural network segmentation.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information and usage examples can be found at the respective
functions documentations.</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations.contourEdge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations.contourEdge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find only the coordinates representing one edge
of a contour.</p>
<p>Either the upper or lower edge of the detected contours is
calculated. From the contour detected lower in the image,
the upper edge is searched. From the contour detected
higher in the image, the lower edge is searched.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>edge</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining the type of edge that is
searched. The variable can be either "T" (top) or
"B" (bottom).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="T">T</span>, <span title="B">B</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;T&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contour</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing sorted contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all x-coordinates from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all y-coordinated from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[[[</span><span class="mi">195</span> <span class="mi">104</span><span class="p">]]</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">196</span> <span class="mi">104</span><span class="p">]]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[196 197 198 199 200 ... 952 953 954 955 956 957],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">[120 120 120 120 120 ... 125 125 125 125 125 125]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations.doCalculations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doCalculations</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">img_copy</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">calib_dist</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">model_apo</span><span class="p">,</span> <span class="n">model_fasc</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">image_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations.doCalculations" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to compute muscle architectural parameters based on
convolutional neural network segmentation in images.</p>
<p>Firstly, images are segmented by the network. Then, predictions
are thresholded and filtered. The aponeuroses edges are computed and
the fascicle length and pennation angle calculated. This is done
by extrapolating fascicle segments above a threshold length. Then
the intersection between aponeurosis edge and fascicle structures are
computed.
Returns none when not more than one aponeurosis contour is
detected in the image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <div class="language-text highlight"><pre><span></span><code>Normalized, reshaped and rescaled rayscale image to be
analysed as a numpy array. The image must
be loaded prior to model inputting, specifying a path
is not valid.
</code></pre></div>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>img_copy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A copy of the input image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>h</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the height of the input image (img).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>w</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the width of the input image (img).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calib_dist</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the distance between the two
specified point in pixel units. This value was either computed
automatically or manually. Must be non-negative. If "None", the
values are outputted in pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>spacing</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the known distance in milimeter
between the two placed points by the user or the scaling bars
present in the image. This can be 5, 10, 15 or 20 milimeter.
Must be non-negative and non-zero.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(10, 5, 15, 20)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>10</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_apo</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Contains keras model for prediction of aponeuroses</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Contains keras model for prediction of fascicles</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dictionary</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary variable containing analysis parameters.
These include must include apo_threshold, apo_length_tresh, fasc_threshold,
fasc_cont_threshold, min_width, max_pennation,
min_pennation.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_callback</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Callback function to update the image display. If None, no callback is used.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fasc_l</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable contianing the estimated fascicle lengths
based on the segmented fascicle fragments in pixel units
as float. If calib_dist is specified, then the length is computed
in centimeter.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pennation</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated pennation angles
based on the segmented fascicle fragments and aponeuroses
as float.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_low1</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated x-coordinates
of the lower edge from the upper aponeurosis as integers.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_high1</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated x-coordinates
of the upper edge from the lower aponeurosis as integers.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>midthick</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Float variable containing the estimated distance
between the lower and upper aponeurosis in pixel units.
If calib_dist is specified, then the distance is computed
in centimeter.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fig</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Figure including the input image, the segmented aponeurosis and
the extrapolated fascicles.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="matplotlib.figure">figure</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>For more detailed documentation, see the respective functions
documentation.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">doCalculations</span><span class="p">(</span><span class="n">img</span><span class="o">=</span><span class="p">[[[[</span><span class="mf">0.10113753</span> <span class="mf">0.09391343</span> <span class="mf">0.09030136</span><span class="p">]</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                       [0.10878626 0.10101581 0.09713058]</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                       [0.10878634 0.10101589 0.09713066]</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                       ...</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                       [0.         0.         0.        ]</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">                       [0.         0.         0.        ]</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">                       [0.         0.         0.        ]]]],</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">                   img_copy=[[[[0.10113753 0.09391343 0.09030136]</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">                       [0.10878626 0.10101581 0.09713058]</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">                       [0.10878634 0.10101589 0.09713066]</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">                       ...</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">                       [0.         0.         0.        ]</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">                       [0.         0.         0.        ]</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="go">                       [0.         0.         0.        ]]]],</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">                    h=512, w=512,calib_dist=None, spacing=10,</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="go">                    filename=test1,</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="go">                    apo_modelpath=&quot;C:/Users/admin/Documents/DL_Track/Models_DL_Track/Final_models/model-VGG16-fasc-BCE-512.h5&quot;,</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="go">                    fasc_modelpath=&quot;C:/Users/admin/Documents/DL_Track/Models_DL_Track/Final_models/model-apo-VGG-BCE-512.h5&quot;,</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="go">                    scale_statement=None,</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="go">                    dictionary={&#39;apo_treshold&#39;: &#39;0.2&#39;, &#39;apo_length_tresh&#39;: &#39;600&#39;, fasc_threshold&#39;: &#39;0.05&#39;, &#39;fasc_cont_thresh&#39;: &#39;40&#39;, &#39;min_width&#39;: &#39;60&#39;, &#39;min_pennation&#39;: &#39;10&#39;, &#39;max_pennation&#39;: &#39;40&#39;},</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="go">                    filter_fasc = False)</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="go">[1030.1118966321328, 1091.096002143386, ..., 1163.07073327008, 1080.0001937069776, 976.6099281240987]</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="go">[19.400700671533016, 18.30126098122986, ..., 18.505345607096586, 18.727693601171197, 22.03704574228162]</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="go">[441, 287, 656, 378, 125, 15, ..., -392, -45, -400, -149, -400]</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="go">[1410, 1320, 1551, 1351, 1149, ..., 885, 937, 705, 869, 507]</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="go">348.1328577</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations.filter_fascicles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_fascicles</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations.filter_fascicles" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Filters out fascicles that intersect with their neighboring fascicles based on their x_low and x_high values.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A DataFrame containing the fascicle data. Expected columns include 'x_low', 'y_low', 'x_high', and 'y_high'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pandas.DataFrame">DataFrame</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="pandas.DataFrame">DataFrame</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A DataFrame with the fascicles that do not intersect with their neighbors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x_low&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;y_low&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;x_high&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;y_high&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">filter_fascicles</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">   x_low  y_low  x_high  y_high</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">0      1      1       4       4</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">2      5      3       7       6</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations.sortContours" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations.sortContours" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to sort detected contours from proximal to distal.</p>
<p>The input contours belond to the aponeuroses and are sorted
based on their coordinates, from smallest to largest.
Moreover, for each detected contour a bounding box is built.
The bounding boxes are sorted as well. They are however not
needed for further analyses.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the detected aponeurosis
contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing arrays of sorted contours.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bounding_boxes</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing tuples with sorted bounding boxes.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([[[</span><span class="mi">928</span><span class="p">,</span> <span class="mi">247</span><span class="p">]],</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">929</span><span class="p">,</span> <span class="mi">247</span><span class="p">]]],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">dtype=int32),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">((array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">(array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">(array([[[928, 247]], ... [[929, 247]]], dtype=int32)),</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">((201, 97, 747, 29), (201, 247, 750, 96))</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.do_calculations_curved"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions for three different approaches to calculate
muscle architectural parameters accounted for fascicle curvature. The
parameters include muscle thickness, pennation angle and fascicle length.
All calculations are based on a fascicle mask and aponeurses mask.
Fascicle fragments are connected and extrapolated and the intersection points
with the extrapolated aponeuroses are determined. The architectural parameters
are calculated and the results are plotted. Additionally, it is possible to
calculate an orientation map of the fascicles based on the fascicle mask.
This module is specifically designed for single image analysis.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>curve_polyfitting
    Function to calculate the fascicle length and pennation angle accounted
    for curvature following a second order polynomial fitting approach.
curve_connect
    Function to calculate the fascicle length and pennation angle accounted
    for curvature following a approach of connecting fascicles.
orientation_map
    Function to calculate an orientation map based on the fascicle mask.
doCalculations_curved
    Function to compute muscle architectural parameters accounted for fascicle curvature.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information can be found at the respective functions documentations.</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.adapted_contourEdge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adapted_contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_contourEdge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find only the coordinates representing one edge
of a contour.</p>
<p>Either the upper or lower edge of the detected contours is
calculated. From the contour detected lower in the image,
the upper edge is searched. From the contour detected
higher in the image, the lower edge is searched. Allows
for more points around the end of the contour than contourEdge.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>edge</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining the type of edge that is
searched. The variable can be either "T" (top) or
"B" (bottom).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="T">T</span>, <span title="B">B</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;T&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contour</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing sorted contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all x-coordinates from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all y-coordinated from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[[[</span><span class="mi">195</span> <span class="mi">104</span><span class="p">]]</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">196</span> <span class="mi">104</span><span class="p">]]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[196 197 198 199 200 ... 952 953 954 955 956 957],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">[120 120 120 120 120 ... 125 125 125 125 125 125]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.adapted_filter_fascicles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adapted_filter_fascicles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.adapted_filter_fascicles" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Filters out fascicles that intersect with other fascicles</p>
<p>This function counts for each fascicle the number of intersections
with other fascicles and ranks them based on the number of intersections.
The fascicle with the highest intersection count is excluded.
This ranking and exclusion process is repeated until there are no more intersections.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A DataFrame containing the fascicle data. Expected columns include 'coordsXY'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pandas.DataFrame">DataFrame</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Tolerance to allow intersection points near the aponeuroses</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="pandas.DataFrame">DataFrame</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A DataFrame with the fascicles that do not intersect with other fascicles.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>data = {'coordsXY': [[(78, 268), (78, 266), ...], [(43, 265), (42, 264), ...], ...]}
tolerance = 100
adapted_filter_fascicles(data, tolerance)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.contourEdge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.contourEdge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find only the coordinates representing one edge
of a contour.</p>
<p>Either the upper or lower edge of the detected contours is
calculated. From the contour detected lower in the image,
the upper edge is searched. From the contour detected
higher in the image, the lower edge is searched.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>edge</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining the type of edge that is
searched. The variable can be either "T" (top) or
"B" (bottom).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="T">T</span>, <span title="B">B</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;T&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contour</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing sorted contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all x-coordinates from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all y-coordinated from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[[[</span><span class="mi">195</span> <span class="mi">104</span><span class="p">]]</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">196</span> <span class="mi">104</span><span class="p">]]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[196 197 198 199 200 ... 952 953 954 955 956 957],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">[120 120 120 120 120 ... 125 125 125 125 125 125]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.crop" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">crop</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">image_fas</span><span class="p">,</span> <span class="n">image_apo</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.crop" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to crop the frame around ultrasound images</p>
<p>Additionally crops the fascicle and aponeuroses images in order that all three images have the same size</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image of the original ultrasound image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_fas</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Binary image of the fascicles within the original image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_apo</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Binary image of the aponeuroses within the original image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cropped_US</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Image of the original ultrasound image without frame around it</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cropped_fas</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Cropped binary image of fascicles within the original image</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cropped_apo</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Cropped binary image of the aponeuroses within the original image</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">crop</span><span class="p">(</span><span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">image_fas</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">image_apo</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">))</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.curve_connect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">curve_connect</span><span class="p">(</span><span class="n">contours_sorted</span><span class="p">,</span> <span class="n">ex_x_LA</span><span class="p">,</span> <span class="n">ex_y_LA</span><span class="p">,</span> <span class="n">ex_x_UA</span><span class="p">,</span> <span class="n">ex_y_UA</span><span class="p">,</span> <span class="n">original_image</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">approach</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_connect" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calculate the fascicle length and pennation angle accounted for curvature following linear connection between fascicles</p>
<p>This function identifies individual fascicle contours and connects them if they are likely part of the same fascicle. A second-order polynomial curve is fitted through these contours; if the curvature exceeds a specified range, a linear fit is used instead. This fit is solely for detecting the contours.
curve_connect_linear: The first contour of the fascicle is extrapolated to determine its intersection point with the lower aponeurosis.
curve_connect_poly: The lower aponeurosis and the first contour are connected using a second-order polynomial fit based on all detected contours.
Following common path for both approaches: After the initial extrapolation, the first contour is added. A linear connection is made from the last point of the current contour to the first point of the next contour, and this next contour is added. This process continues until the final contour is reached. The final contour is then used for a linear extrapolation to determine the intersection point with the upper aponeurosis.
Adding all these parts together, the function calculates the fascicle length and pennation angle.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all (x,y)-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_x_LA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-values of the extrapolated lower aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_y_LA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-values of the extrapolated lower aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_x_UA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-values of the extrapolated upper aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_y_UA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-values of the extrapolated upper aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>original_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Ultrasound image to be analysed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>parameters</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary variable containing analysis parameters.
These include apo_length_threshold, apo_length_thresh, fasc_cont_thresh, min_width, max_pennation,min_pennation, tolerance, tolerance_to_apo, coeff_limit</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>approach</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Can either be curve_connect_linear or curve_connect_poly. If curve_connect_linear is used, a linear extrapolation between the lower aponeurosis and the first fascicle contour is used.
If curve_connect_poly is used, a seconde order polynomial extrapolation between the lower and aponeurosis and the first fascicle contour is used; if the curvature exceeds a specified range, a linear fit is used instead.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dictionary containing the fascicle length and pennation angle for each fascicle.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">curve_connect</span><span class="p">(</span><span class="n">contours_sorted</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_x_LA</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">256.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.79515903180635</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59031806361273</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.38547709541908</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.18063612722545</span><span class="p">,</span> <span class="o">-</span><span class="mf">254.9757951590318</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_y_LA</span><span class="o">=</span><span class="p">[</span><span class="mf">203.6459743268554</span><span class="p">,</span> <span class="mf">203.64809836232556</span><span class="p">,</span> <span class="mf">203.65022013210233</span><span class="p">,</span> <span class="mf">203.6523396361857</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_x_UA</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">256.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.79515903180635</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59031806361273</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.38547709541908</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.18063612722545</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_y_UA</span><span class="o">=</span><span class="p">[</span><span class="mf">45.83649948451378</span><span class="p">,</span> <span class="mf">45.829729965913046</span><span class="p">,</span> <span class="mf">45.82296488688939</span><span class="p">,</span> <span class="mf">45.81620424744281</span><span class="p">,</span> <span class="mf">45.80944804757331</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="n">apo_length_thresh</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">fasc_cont_thresh</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">max_pennation</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">min_pennation</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tolerance_to_apo</span><span class="o">=</span><span class="mi">100</span><span class="p">},</span> <span class="n">filter_fascicles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">approach</span><span class="o">=</span><span class="s2">&quot;curve_connect_linear&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.curve_polyfitting" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">curve_polyfitting</span><span class="p">(</span><span class="n">contours_sorted</span><span class="p">,</span> <span class="n">ex_x_LA</span><span class="p">,</span> <span class="n">ex_y_LA</span><span class="p">,</span> <span class="n">ex_x_UA</span><span class="p">,</span> <span class="n">ex_y_UA</span><span class="p">,</span> <span class="n">original_image</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.curve_polyfitting" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calculate the fascicle length and pennation angle accounted for curvature following a second order polynomial fitting approach</p>
<p>This function identifies individual fascicle contours and connects them if they are likely part of the same fascicle. A second-order polynomial curve is fitted through these contours; if the curvature exceeds a specified range, a linear fit is used instead. By knowing the positions of the aponeuroses, the intersection points between the fascicles and the lower and upper aponeuroses can be determined. Using these intersection points, the fascicle length and pennation angle are calculated.</p>


<details class="-parameters" open>
  <summary>Parameters</summary>
  <p>contours_sorted : list
     List containing all (x,y)-coordinates of each detected contour
 ex_x_LA : list
     List containing all x-values of the extrapolated lower aponeurosis
 ex_y_LA: list
     List containing all y-values of the extrapolated lower aponeurosis
 ex_x_UA : list
     List containing all x-values of the extrapolated upper aponeurosis
 ex_y_UA : list
     List containing all y-values of the extrapolated upper aponeurosis
 original_image : np.ndarray
     Ultrasound image to be analysed
 parameters : dict
     Dictionary variable containing analysis parameters.
     These include apo_length_threshold, apo_length_thresh, fasc_cont_thresh, min_width, max_pennation,min_pennation, tolerance, tolerance_to_apo, coeff_limit
 filter_fasc : bool
     If True, fascicles will be filtered so that no crossings are included.
     This may reduce number of totally detected fascicles.</p>
</details>

<details class="-returns" open>
  <summary>Returns</summary>
  <p>fascicle_length : list
     List variable containing the estimated fascicle lengths
     based on the segmented fascicle fragments in pixel units
     as float.
 pennation_angle : list
     List variable containing the estimated pennation angles
     based on the segmented fascicle fragments and aponeuroses
     as float.
x_low : list
    List variable containing the intersection points between the fascicles and the lower aponeurosis
x_high : list
    List variable containing the intersection points between the fascicles and the upper aponeurosis
 fig : matplot.figure
     Figure including the input ultrasound image, the segmented aponeuroses and
     the found fascicles extrapolated between the two aponeuroses.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">curve_polyfitting</span><span class="p">(</span><span class="n">contours_sorted</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_x_LA</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">256.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.79515903180635</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59031806361273</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.38547709541908</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.18063612722545</span><span class="p">,</span> <span class="o">-</span><span class="mf">254.9757951590318</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_y_LA</span><span class="o">=</span><span class="p">[</span><span class="mf">203.6459743268554</span><span class="p">,</span> <span class="mf">203.64809836232556</span><span class="p">,</span> <span class="mf">203.65022013210233</span><span class="p">,</span> <span class="mf">203.6523396361857</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_x_UA</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">256.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.79515903180635</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59031806361273</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.38547709541908</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.18063612722545</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">ex_y_UA</span><span class="o">=</span><span class="p">[</span><span class="mf">45.83649948451378</span><span class="p">,</span> <span class="mf">45.829729965913046</span><span class="p">,</span> <span class="mf">45.82296488688939</span><span class="p">,</span> <span class="mf">45.81620424744281</span><span class="p">,</span> <span class="mf">45.80944804757331</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="n">apo_length_thresh</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">fasc_cont_thresh</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">max_pennation</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">min_pennation</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tolerance_to_apo</span><span class="o">=</span><span class="mi">100</span><span class="p">},</span> <span class="n">filter_fascicles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.doCalculations_curved" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doCalculations_curved</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">img_copy</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">model_apo</span><span class="p">,</span> <span class="n">model_fasc</span><span class="p">,</span> <span class="n">dic</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">calib_dist</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">approach</span><span class="p">,</span> <span class="n">image_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.doCalculations_curved" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to compute muscle architectural parameters accounted for fascicle curvature</p>
<p>The aponeuroses edges are computed and the fascicle contours are connected to form complete fascicles. Based on three different approaches the fascicle length and pennation angle get calculated. Furthermore, it is possible to calculate an orientation map showing the slope at different points in the region of interest.</p>
<p>Returns none when not more than one aponeurosis contour or no fascicle contours are
detected in the image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Ultrasound image to be analysed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>img_copy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A copy of the input image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>h</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the height of the input image (original image).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>w</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the width of the input image (original image).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_apo</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Contains keras model for prediction of aponeuroses</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Contains keras model for prediction of fascicles</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dic</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary variable containing analysis parameters.
These include apo_length_threshold, apo_length_thresh, fasc_cont_thresh, min_width, max_pennation,min_pennation, tolerance, tolerance_to_apo</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calib_dist</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the distance between the two
specified point in pixel units. This value was either computed
automatically or manually. Must be non-negative. If "None", the
values are outputted in pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>spacing</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the known distance in milimeter
between the two placed points by the user or the scaling bars
present in the image. This can be 5, 10, 15 or 20 millimeter.
Must be non-negative and non-zero.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(10, 5, 15, 20)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>10</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>approach</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Can either be curve_polyfitting, curve_connect_linear, curve_connect_poly or orientation_map.
curve_polyfitting calculates the fascicle length and pennation angle according to a second order polynomial fitting (see documentation of function curve_polyfitting).
curve_connect_linear and curve_connect_poly calculate the fascicle length and pennation angle according to a linear connection between the fascicles fascicles (see documentation of function curve_connect).
orientation_map calculates an orientation map and gives an estimate for the median angle of the image (see documentation of function orientation_map)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_callback</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Callback function for displaying the image. If None, no image is displayed.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fascicle_length</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated fascicle lengths
based on the segmented fascicle fragments in pixel units
as float. If calib_dist is specified, then the length is computed
in centimeter.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pennation_angle</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated pennation angles
based on the segmented fascicle fragments and aponeuroses
as float.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>midthick</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Float variable containing the estimated distance
between the lower and upper aponeurosis in pixel units.
If calib_dist is specified, then the distance is computed
in centimeter.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_low</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the intersection points between the fascicles and the lower aponeurosis</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_high</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the intersection points between the fascicles and the upper aponeurosis</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fig</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Figure including the input ultrasound image, the segmented aponeuroses and
the found fascicles extrapolated between the two aponeuroses.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="matplot.figure">figure</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>For more detailed documentation, see the respective functions documentation.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">doCalculations_curved</span><span class="p">(</span><span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">fas_image</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">apo_image</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">dic</span><span class="o">=</span><span class="p">{</span><span class="n">apo_length_thresh</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">fasc_cont_thresh</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">max_pennation</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">min_pennation</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tolerance_to_apo</span><span class="o">=</span><span class="mi">100</span><span class="p">},</span> <span class="n">filter_fascicles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">calib_dist</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">approach</span> <span class="o">=</span> <span class="s2">&quot;curve_polyfitting&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.do_curves_intersect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">do_curves_intersect</span><span class="p">(</span><span class="n">curve1</span><span class="p">,</span> <span class="n">curve2</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.do_curves_intersect" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to detect wheter two curves are intersecting or not.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>curve1</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing (x,y) coordinate pairs representing one curve</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>curve2</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing (x,y) coordinate pairs representing a second curve</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="Bool">Bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if the curves have an intersection point
'False' if the curves don't have an intersection point</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">do_curves_intersect</span><span class="p">(</span><span class="n">curve1</span><span class="o">=</span><span class="p">[(</span><span class="mf">98.06</span><span class="p">,</span> <span class="mf">263.24</span><span class="p">),</span> <span class="p">(</span><span class="mf">98.26</span><span class="p">,</span> <span class="mf">263.19</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">curve2=[(63.45, 258.82), (63.65, 258.76), ...])</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_complete_fascicle</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">contours_sorted</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find complete fascicles based on connection of single contours.</p>
<p>The function extrapolates a second order polynomial fit through the first contour. If the coefficients fall outside a specified range, the curve is considered too curved. As a result, a linear fit is calculated and used for subsequent calculations. The next contour is identified if its first point lies within a specified tolerance range in the positive and negative y-direction around the extrapolated fit. If this condition is met, both contours serve as the basis for the next polynomial fit. This process is repeated until no more possible connecting contours are found.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>i</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the starting contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all (x,y)-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionnary containing a label true or false for every fascicle contour,
true if already used for an extrapolation, false if not</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dictionnary">dictionnary</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mid</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the middle of the image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the width of the image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value specifing the permissible range in the positive and negative y-direction within which the next contour can be located to still be considered a part of the extrapolated fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coeff_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Value defining the maximum value of the first coefficient in the second polynomial fit</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of each found and extrapolated fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of each found and extrapolated fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>linear_fit</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if extrapolated fit is linear
'False' if extrapolated fit follows a second order polynomial</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inner_number_contours</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the indices of each contour that constitute each fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">find_complete_fascicle</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">481</span><span class="p">,</span> <span class="mi">482</span><span class="p">,</span> <span class="mi">483</span><span class="p">,</span> <span class="mi">484</span><span class="p">,</span> <span class="mi">485</span><span class="p">,</span> <span class="mi">486</span><span class="p">,</span> <span class="mi">487</span><span class="p">,</span> <span class="mi">488</span><span class="p">,</span> <span class="mi">489</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">492</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span> <span class="mi">494</span><span class="p">,</span> <span class="mi">495</span><span class="p">,</span> <span class="mi">496</span><span class="p">,</span> <span class="mi">497</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]),</span> <span class="n">contours_sorted_y</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)],</span> <span class="n">contours_sorted</span><span class="o">=</span><span class="p">[[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">]],</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="n">mid</span><span class="o">=</span><span class="mf">256.0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="o">=</span><span class="mf">0.000583</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle_linear" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_complete_fascicle_linear</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">contours_sorted</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_complete_fascicle_linear" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Traces a complete fascicle by iteratively fitting and extrapolating a linear model
through connected contour segments in an ultrasound image.</p>
<p>Starting from a seed contour <code>i</code>, the function fits a line, extrapolates it over a defined
width, and collects all contour segments that lie within a vertical tolerance range
around the extrapolated line. The procedure continues recursively to find connected
fascicle segments along the extrapolated path.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>i</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Index of the initial contour used to start the fascicle tracing.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the x-coordinates of each contour segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the y-coordinates of each contour segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of full contour arrays (used for proximity checking).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary mapping contour indices to a boolean indicating whether they have already been used.
Will be updated in-place.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mid</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Midpoint x-coordinate used as center of extrapolation range.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Half-width of the extrapolation span in pixels (from <code>mid - width</code> to <code>mid + width</code>).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Vertical distance in pixels allowed between the extrapolated line and candidate contour segments.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coeff_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Currently unused; placeholder for limiting slope or intercept values during fitting.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Extrapolated x-coordinates of the complete fascicle.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Corresponding y-coordinates from the final linear model fit.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>linear_fit</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Flag indicating whether a linear fit was successfully computed (always <code>True</code> in current logic).</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inner_number_contours</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of contour indices that belong to the detected fascicle.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>list of int</code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>This function modifies the <code>label</code> dictionary in-place to prevent reprocessing contours.</li>
<li>The input <code>coeff_limit</code> is accepted but currently not used for filtering.</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_x</span><span class="p">,</span> <span class="n">ex_y</span><span class="p">,</span> <span class="n">is_linear</span><span class="p">,</span> <span class="n">used_contours</span> <span class="o">=</span> <span class="n">find_complete_fascicle_linear</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">... </span>    <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">... </span>    <span class="n">contours_sorted_x</span><span class="o">=</span><span class="n">contour_x_list</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">... </span>    <span class="n">contours_sorted_y</span><span class="o">=</span><span class="n">contour_y_list</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">... </span>    <span class="n">contours_sorted</span><span class="o">=</span><span class="n">contour_list</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="kc">False</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">contour_x_list</span><span class="p">))},</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">... </span>    <span class="n">mid</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">... </span>    <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">... </span>    <span class="n">tolerance</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="n">coeff_limit</span><span class="o">=</span><span class="mf">0.5</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ex_x</span><span class="p">,</span> <span class="n">ex_y</span><span class="p">)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Used </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">used_contours</span><span class="p">)</span><span class="si">}</span><span class="s2"> contour segments.&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.find_next_fascicle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_next_fascicle</span><span class="p">(</span><span class="n">all_contours</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">x_current_fascicle</span><span class="p">,</span> <span class="n">y_current_fascicle</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.find_next_fascicle" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find the next fascicle contour</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>all_contours</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all (x,y)-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_current_fascicle</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of the currently examined fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_current_fascicle</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of the currently examined fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates within the range of the extrapolation</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upper_bound</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the lower boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lower_bound</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the upper boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionnary containing a label true or false for every fascicle contour,
true if already used for an extrapolation, false if not</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dictionnary">dictionnary</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of the currently examined fascicle
merged with the x-coordinates of the next fascicle contour within the
boundary if one was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of the currently examined fascicle
merged with the y-coordinates of the next fascicle contour within the
boundary if one was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>found_fascicle</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value of the found fascicle contour, -1 if no contour was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">find_next_fascicle</span><span class="p">(</span><span class="n">all_contours</span> <span class="o">=</span> <span class="p">,</span> <span class="n">contours_sorted_x</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">481</span><span class="p">,</span> <span class="mi">482</span><span class="p">,</span> <span class="mi">483</span><span class="p">,</span> <span class="mi">484</span><span class="p">,</span> <span class="mi">485</span><span class="p">,</span> <span class="mi">486</span><span class="p">,</span> <span class="mi">487</span><span class="p">,</span> <span class="mi">488</span><span class="p">,</span> <span class="mi">489</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">492</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span><span class="mi">494</span><span class="p">,</span> <span class="mi">495</span><span class="p">,</span> <span class="mi">496</span><span class="p">,</span> <span class="mi">497</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]),</span> <span class="n">contours_sorted_y</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)],</span> <span class="n">x_current_fascicle</span><span class="o">=</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">y_current_fascicle</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">x_range</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">256.</span>   <span class="p">,</span> <span class="o">-</span><span class="mf">255.795</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">767.59</span> <span class="p">,</span>  <span class="mf">767.795</span><span class="p">,</span>  <span class="mf">768.</span>   <span class="p">]),</span> <span class="n">upper_bound</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">243.137</span><span class="p">,</span> <span class="mf">243.069</span><span class="p">,</span> <span class="mf">243.001</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.372</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.44</span> <span class="p">,</span> <span class="o">-</span><span class="mf">97.508</span><span class="p">]),</span> <span class="n">lower_bound</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">263.137</span><span class="p">,</span> <span class="mf">263.069</span><span class="p">,</span> <span class="mf">263.001</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">77.372</span><span class="p">,</span> <span class="o">-</span><span class="mf">77.44</span> <span class="p">,</span> <span class="o">-</span><span class="mf">77.508</span><span class="p">]),</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.is_point_in_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_point_in_range</span><span class="p">(</span><span class="n">x_point</span><span class="p">,</span> <span class="n">y_point</span><span class="p">,</span> <span class="n">x_poly</span><span class="p">,</span> <span class="n">lb</span><span class="p">,</span> <span class="n">ub</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.is_point_in_range" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to detect wheter a point is between an upper and a lower
boundary or not.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x_point</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Single integer variable representing the x-coordinate of the point to
be analyzed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_point</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Single integer variable representing the y-coordinate of the point to
be analyzed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="integer">integer</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_poly</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of the range where the point could
be located</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lb</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the lower boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ub</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the upper boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="Bool">Bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if point is within both boundaries
'False' if point is outside the boundaries</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">is_point_in_range</span><span class="p">(</span><span class="n">x_point</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">y_point</span><span class="o">=</span><span class="mi">227</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">x_poly=([-200, ..., 800]), lb=([303.165, ..., 130.044]),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">ub=([323.165, ..., 150.044]))</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.orientation_map" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">orientation_map</span><span class="p">(</span><span class="n">fas_image</span><span class="p">,</span> <span class="n">apo_image</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.orientation_map" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calculate an orientation map based on the fascicle mask</p>
<p>The function calculates the orientations of fascicles based on the fascicle mask using the OrientationPy package. It then uses linear inter- and extrapolation to determine the orientation of all points in the region between the two aponeuroses using the Rbf package. Finally, the resulting vectors are smoothed with a Gaussian filter. To approximate the median angle, the image is divided into six sections: two horizontally and three vertically. The median angle is then calculated for each of these sections. In the plot only the median for the part in the lower half and middle of the image is displayed.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fas_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Mask of fascicles</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>apo_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Mask of aponeuroses</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>g</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Containing coefficients to calculate second order polynomial fit for upper aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.poly1d">poly1d</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>h</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Containing coefficients to calculate second order polynomial fit for lower aponeurosis</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.curved_fascicles_functions.np.poly1d">poly1d</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>split_angles_deg_median</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated pennation angles for the six parts of the image</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fig</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Figure showing the estimated slope at different points in the region between the two aponeuroses as a heat map</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="matplot.figure">figure</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">orientation_map</span><span class="p">(</span><span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">fas_image</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">apo_image</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">g</span><span class="o">=</span><span class="n">poly1d</span><span class="p">([</span> <span class="mf">0.</span>   <span class="p">,</span> <span class="o">-</span><span class="mf">0.006</span><span class="p">,</span> <span class="mf">40.841</span><span class="p">]),</span> <span class="n">h</span><span class="o">=</span><span class="n">poly1d</span><span class="p">([</span> <span class="o">-</span><span class="mf">0.</span>   <span class="p">,</span>  <span class="o">-</span><span class="mf">0.003</span><span class="p">,</span> <span class="mf">204.533</span><span class="p">]))</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_curved.sortContours" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_curved.sortContours" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to sort detected contours from proximal to distal.</p>
<p>The input contours belond to the aponeuroses and are sorted
based on their coordinates, from smallest to largest.
Moreover, for each detected contour a bounding box is built.
The bounding boxes are sorted as well. They are however not
needed for further analyses.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the detected aponeurosis
contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing arrays of sorted contours.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bounding_boxes</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing tuples with sorted bounding boxes.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([[[</span><span class="mi">928</span><span class="p">,</span> <span class="mi">247</span><span class="p">]],</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">929</span><span class="p">,</span> <span class="mi">247</span><span class="p">]]],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">dtype=int32),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">((array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">(array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">(array([[[928, 247]], ... [[929, 247]]], dtype=int32)),</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">((201, 97, 747, 29), (201, 247, 750, 96))</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.do_calculations_video"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions to caculate muscle architectural
parameters based on binary segmentations by convolutional neural networks.
The parameters include muscle thickness, pennation angle and fascicle length.
First, input images are segmented by the CNNs. Then the predicted aponeuroses
and fascicle fragments are thresholded and filtered. Fascicle fragments
and aponeuroses are extrapolated and the intersections determined.
This module is specifically designed for video analysis and is predisposed
for execution from a tk.TK GUI instance.
The architectural parameters are calculated. The results are plotted and
converted to an output video displaying the segmentations. Each frame
is evaluated separately, independently from the previous frames.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>doCalculations
    Function to compute muscle architectural parameters based on
    convolutional neural netwrok segmentation.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information and usage examples can be found at the respective
functions documentations. See specifically do_calculations.py.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <p>do_calculations.py</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_video.build_apo_from_edges" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_apo_from_edges</span><span class="p">(</span><span class="n">upp_x</span><span class="p">,</span> <span class="n">upp_y</span><span class="p">,</span> <span class="n">low_x</span><span class="p">,</span> <span class="n">low_y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">smooth_win</span><span class="o">=</span><span class="mi">81</span><span class="p">,</span> <span class="n">smooth_poly</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tail_frac</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_video.build_apo_from_edges" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Build dense, smoothed, and extrapolated aponeurosis curves from detected edges.</p>
<p>This function constructs upper and lower aponeuroses on a shared dense x-grid
spanning [-0.5*w, 1.5*w]. The detected aponeurosis edges are smoothed with a
SavitzkyGolay filter, interpolated within their detected domain, and
extrapolated linearly on both left and right sides. Extrapolation uses
a tangent estimated from a fraction of points at each end.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>upp_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of the detected upper aponeurosis edge.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>array-like of shape (N,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upp_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-coordinates of the detected upper aponeurosis edge.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>array-like of shape (N,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>low_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of the detected lower aponeurosis edge.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>array-like of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>low_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-coordinates of the detected lower aponeurosis edge.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>array-like of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>w</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image width in pixels. Used to set the dense extrapolation grid.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_win</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Window length for SavitzkyGolay smoothing of detected edges.
Must be odd and smaller than input length. Default is 81.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>81</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_poly</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Polynomial order for SavitzkyGolay smoothing. Default is 2.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>2</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tail_frac</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Fraction of points from each side (left and right) used to estimate
tangent slope for extrapolation. Must be between 0 and 1.
Default is 0.20 (20% of each side, minimum 5 points).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>0.5</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_X</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dense shared x-grid spanning [-0.5*w, 1.5*w].</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (5000,)</code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_Y_UA</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Smoothed + extrapolated y-values of the upper aponeurosis on <code>new_X</code>.
Values outside valid regions may be NaN if extrapolation fails.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (5000,)</code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_Y_LA</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Smoothed + extrapolated y-values of the lower aponeurosis on <code>new_X</code>.
Values outside valid regions may be NaN if extrapolation fails.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (5000,)</code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segs_upper</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of polyline segments (detected, left extrapolated, right extrapolated)
for drawing the upper aponeurosis. Each segment contains integer (x,y).</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>list of (K,2) ndarrays</code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segs_lower</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of polyline segments (detected, left extrapolated, right extrapolated)
for drawing the lower aponeurosis.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>list of (K,2) ndarrays</code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>Extrapolation uses linear regression (1<sup>st</sup>-order polynomial) on the
  first/last <code>max(5, ceil(tail_frac * N))</code> points.</li>
<li>Detected aponeurosis parts are smoothed with SavitzkyGolay to reduce noise.</li>
<li>This function ensures both aponeuroses are represented on the same dense grid.</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simulated aponeurosis edges</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">upp_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">])</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">upp_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">120</span><span class="p">])</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">low_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">])</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">low_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">300</span><span class="p">,</span> <span class="mi">305</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">315</span><span class="p">,</span> <span class="mi">320</span><span class="p">])</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">new_X</span><span class="p">,</span> <span class="n">new_Y_UA</span><span class="p">,</span> <span class="n">new_Y_LA</span><span class="p">,</span> <span class="n">segs_upper</span><span class="p">,</span> <span class="n">segs_lower</span> <span class="o">=</span> <span class="n">build_apo_from_edges</span><span class="p">(</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">... </span>    <span class="n">upp_x</span><span class="p">,</span> <span class="n">upp_y</span><span class="p">,</span> <span class="n">low_x</span><span class="p">,</span> <span class="n">low_y</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">tail_frac</span><span class="o">=</span><span class="mf">0.4</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">... </span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">new_X</span><span class="o">.</span><span class="n">shape</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">(5000,)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">new_Y_UA</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">True</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">segs_upper</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">segs_lower</span><span class="p">)</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">(3, 3)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_video.compute_muscle_thickness" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_muscle_thickness</span><span class="p">(</span><span class="n">upp_x</span><span class="p">,</span> <span class="n">upp_y</span><span class="p">,</span> <span class="n">low_x</span><span class="p">,</span> <span class="n">low_y</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_video.compute_muscle_thickness" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Estimate muscle thickness by computing the shortest distance between
upper and lower aponeuroses in the central overlapping third of their x-values.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>upp_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of the upper aponeurosis contour.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>np.ndarray of shape (N,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upp_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-coordinates of the upper aponeurosis contour.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>np.ndarray of shape (N,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>low_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of the lower aponeurosis contour.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>np.ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>low_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-coordinates of the lower aponeurosis contour.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>np.ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="float">float</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The minimum vertical distance (in pixels) between the upper and lower aponeuroses
in the middle third of their overlapping x-range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If there are fewer than 3 overlapping x-values between upper and lower aponeuroses.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>This function assumes that both aponeuroses are already extracted as contours
and that the x-values are integers or can be exactly matched.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">thickness</span> <span class="o">=</span> <span class="n">compute_muscle_thickness</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">... </span>    <span class="n">upp_x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">... </span>    <span class="n">upp_y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">80</span><span class="p">]),</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">... </span>    <span class="n">low_x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]),</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">... </span>    <span class="n">low_y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">110</span><span class="p">])</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">... </span><span class="p">)</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Muscle thickness (px): </span><span class="si">{</span><span class="n">thickness</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">Muscle thickness (px): 30.00</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_video.doCalculationsVideo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doCalculationsVideo</span><span class="p">(</span><span class="n">vid_len</span><span class="p">,</span> <span class="n">cap</span><span class="p">,</span> <span class="n">vid_out</span><span class="p">,</span> <span class="n">flip</span><span class="p">,</span> <span class="n">apo_model</span><span class="p">,</span> <span class="n">fasc_model</span><span class="p">,</span> <span class="n">calib_dist</span><span class="p">,</span> <span class="n">dic</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">gui</span><span class="p">,</span> <span class="n">segmentation_mode</span><span class="p">,</span> <span class="n">frame_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_video.doCalculationsVideo" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to compute muscle architectural parameters based on
convolutional neural network segmentation in videos.</p>
<p>Firstly, images are segmented by the network. Then, predictions
are thresholded and filtered. The aponeuroses edges are computed and
the fascicle length and pennation angle calculated. This is done
by extrapolating fascicle segments above a threshold length. Then
the intersection between aponeurosis edge and fascicle structures are
computed.
Returns none when not more than one aponeurosis contour is
detected in the image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vid_len</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the number of frames present
in cap.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cap</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Object that contains the video in a np.ndarrray format.
In this way, seperate frames can be accessed.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="cv2.VideoCapture">VideoCapture</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_out</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Object that is stored in the vpath folder.
Contains the analyzed video frames and is titled "..._proc.avi"
The name can be changed but must be different than the input
video.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="cv2.VideoWriter">VideoWriter</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flip</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining wheter an image should be flipped.
This can be "no_flip" (video is not flipped) or "flip"
(video is flipped).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="no_flip">no_flip</span>, <span title="flip">flip</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;no_flip&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>apo_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Aponeurosis neural network.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fasc_model</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Fascicle neural network.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calib_dist</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the distance between the two
specified point in pixel units. The points must be 10mm
apart. Must be non-negative. If "None", the values are outputted in
pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dic</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary variable containing analysis parameters.
These include must include apo_threshold, fasc_threshold,
fasc_cont_threshold, min_width, max_pennation,
min_pennation.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the step for the range of video frames.
If step != 1, frames are skipped according to the size of step.
This might decrease processing time but also accuracy.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A tkinter.TK class instance that represents a GUI. By passing this
argument, interaction with the GUI is possible i.e., stopping
the calculation process after each image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segmentation_mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the segmentation mode. This is used to
determine the segmentation model used. Choose between "stacked" and
and "None". When "stacked" is chosen, the frames are loaded in stacks of
three.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>frame_callback</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Boolean variable determining whether the current frame is displayed in main
UI.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fasc_l_all</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of arrays contianing the estimated fascicle lengths
based on the segmented fascicle fragments in pixel units
as float. If calib_dist is specified, then the length is computed
in centimeter. This is computed for each frame in the video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pennation_all</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of lists containing the estimated pennation angles
based on the segmented fascicle fragments and aponeuroses
as float. This is computed for each frame in the video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_lows_all</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of lists containing the estimated x-coordinates
of the lower edge from the upper aponeurosis as integers.
This is computed for each frame in the video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_highs_all</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of lists containing the estimated x-coordinates
of the upper edge from the lower aponeurosis as integers.
This is computed for each frame in the video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>midthick_all</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the estimated distance
between the lower and upper aponeurosis in pixel units.
If calib_dist is specified, then the distance is computed
in centimeter.
This is computed for each frame in the video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">doCalculations</span><span class="p">(</span><span class="n">vid_len</span><span class="o">=</span><span class="mi">933</span><span class="p">,</span> <span class="n">cap</span><span class="o">=&lt;</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span> <span class="mi">000002</span><span class="n">BFAD0560B0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                    vid_out=&lt; cv2.VideoWriter 000002BFACEC0130&gt;,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                    flip=&quot;no_flip&quot;,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                    apo_modelpath=&quot;C:/Users/admin/Documents/DL_Track/Models_DL_Track/Final_models/model-VGG16-fasc-BCE-512.h5&quot;,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                    fasc_modelpath=&quot;C:/Users/admin/Documents/DL_Track/Models_DL_Track/Final_models/model-apo-VGG-BCE-512.h5&quot;,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">                    calib_dist=98,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">                    dic={&#39;apo_treshold&#39;: &#39;0.2&#39;, &#39;fasc_threshold&#39;: &#39;0.05&#39;,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">                    &#39;fasc_cont_thresh&#39;: &#39;40&#39;, &#39;min_width&#39;: &#39;60&#39;,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">                    &#39;min_pennation&#39;: &#39;10&#39;, &#39;max_pennation&#39;: &#39;40&#39;},</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">                    filter_fasc = False,</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">                    gui=&lt;__main__.DL_Track_US object at 0x000002BFA7528190&gt;,</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">                    segmentation_mode=None,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">                    display_frame=True)</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="go">[array([60.5451731 , 58.86892027, 64.16011534, 55.46192704, 63.40711356]), ..., array([64.90849385, 60.31621836])]</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="go">[[19.124207107383114, 19.409753216521565, 18.05706763600641, 20.54453899050867, 17.808652286488794], ..., [17.26241882195032, 16.284803480359543]]</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="go">[[148, 5, 111, 28, -164], [356, 15, 105, -296], [357, 44, -254], [182, 41, -233], [40, 167, 42, -170], [369, 145, 57, -139], [376, 431, 32], [350, 0]]</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="go">[[725, 568, 725, 556, 444], [926, 572, 516, 508], [971, 565, 502], [739, 578, 474], [554, 766, 603, 475], [1049, 755, 567, 430], [954, 934, 568], [968, 574]]</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="go">[23.484416057267826, 22.465452189555794, 21.646971767045816, 21.602856412413924, 21.501286239714894, 21.331137350026623, 21.02446763240188, 21.250352548097883]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.do_calculations_video.optimize_fascicle_loop" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">optimize_fascicle_loop</span><span class="p">(</span><span class="n">contoursF3</span><span class="p">,</span> <span class="n">new_Y_UA</span><span class="p">,</span> <span class="n">new_Y_LA</span><span class="p">,</span> <span class="n">new_X_UA</span><span class="p">,</span> <span class="n">new_X_LA</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">min_pennation</span><span class="p">,</span> <span class="n">max_pennation</span><span class="p">,</span> <span class="n">filter_fascicles_func</span><span class="p">,</span> <span class="n">fasc_cont_thresh</span><span class="p">,</span> <span class="n">calib_dist</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.do_calculations_video.optimize_fascicle_loop" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Extract, extrapolate, and filter fascicle contours based on angle and length criteria.</p>
<p>This function fits a line to each detected fascicle contour, extrapolates it 
across the image width, and finds its intersections with the extrapolated upper 
and lower aponeuroses. Fascicles that intersect both aponeuroses, have lengths 
above the threshold, and fall within the allowed pennation angle range are kept.
Optionally, overlapping fascicles can be filtered.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>contoursF3</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of fascicle contours detected in the binary fascicle mask.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of (N, 1, 2) ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_Y_UA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-values of the extrapolated upper aponeurosis curve.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_Y_LA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Y-values of the extrapolated lower aponeurosis curve.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_X_UA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-values corresponding to <code>new_Y_UA</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_X_LA</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-values corresponding to <code>new_Y_LA</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>ndarray of shape (M,)</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image width in pixels. Used to define extrapolation grid.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_pennation</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Minimum acceptable pennation angle in degrees.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_pennation</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Maximum acceptable pennation angle in degrees.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fascicles_func</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional function to further filter valid fascicles. Must accept and return
a pandas.DataFrame with fascicle data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="callable">callable</span> or None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fasc_cont_thresh</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Minimum number of contour points required to consider a fascicle candidate.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calib_dist</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Calibration distance in pixels between two 10 mm markers. 
If provided, fascicle lengths are scaled to millimeters.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span> or <span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fascicle_data</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>DataFrame with one row per accepted fascicle and columns:</p>
<ul>
<li><code>x_low</code> : int<br />
  Starting x-coordinate (lower intersection with aponeurosis).</li>
<li><code>x_high</code> : int<br />
  Ending x-coordinate (upper intersection with aponeurosis).</li>
<li><code>y_low</code> : int<br />
  Starting y-coordinate (lower intersection).</li>
<li><code>y_high</code> : int<br />
  Ending y-coordinate (upper intersection).</li>
<li><code>coordsX</code> : ndarray<br />
  X coordinates of fascicle line between intersections.</li>
<li><code>coordsY</code> : ndarray<br />
  Y coordinates of fascicle line between intersections.</li>
<li><code>fasc_l</code> : float<br />
  Fascicle length (px or mm if <code>calib_dist</code> is provided).</li>
<li><code>penn_a</code> : float<br />
  Pennation angle in degrees relative to lower aponeurosis.</li>
</ul>
<p>If no valid fascicles are found, an empty DataFrame with these columns is returned.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="pandas.DataFrame">DataFrame</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>Fascicles are fitted with a first-order polynomial (straight line).</li>
<li>Intersections are determined by minimizing vertical distance to aponeuroses.</li>
<li>Angles are computed relative to the local slope of the lower aponeurosis.</li>
<li><code>filter_fascicles_func</code> can be used to remove overlapping or outlier fascicles.</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Dummy apo (straight lines) and fascicle contour</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">new_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">new_Y_UA</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">0</span><span class="o">*</span><span class="n">new_X</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">new_Y_LA</span> <span class="o">=</span> <span class="mi">400</span> <span class="o">+</span> <span class="mi">0</span><span class="o">*</span><span class="n">new_X</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">cnt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">250</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">380</span><span class="p">]]])</span>  <span class="c1"># fake fascicle</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">optimize_fascicle_loop</span><span class="p">(</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="n">contoursF3</span><span class="o">=</span><span class="p">[</span><span class="n">cnt</span><span class="p">],</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span>    <span class="n">new_Y_UA</span><span class="o">=</span><span class="n">new_Y_UA</span><span class="p">,</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">... </span>    <span class="n">new_Y_LA</span><span class="o">=</span><span class="n">new_Y_LA</span><span class="p">,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">... </span>    <span class="n">new_X_UA</span><span class="o">=</span><span class="n">new_X</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="gp">... </span>    <span class="n">new_X_LA</span><span class="o">=</span><span class="n">new_X</span><span class="p">,</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="gp">... </span>    <span class="n">width</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="gp">... </span>    <span class="n">min_pennation</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="gp">... </span>    <span class="n">max_pennation</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="gp">... </span>    <span class="n">filter_fascicles_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="gp">... </span>    <span class="n">fasc_cont_thresh</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="gp">... </span>    <span class="n">calib_dist</span><span class="o">=</span><span class="mi">98</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="gp">... </span><span class="p">)</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;fasc_l&quot;</span><span class="p">,</span> <span class="s2">&quot;penn_a&quot;</span><span class="p">]]</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="go">    fasc_l     penn_a</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="go">0  39.7951  18.7423</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.curved_fascicles_functions"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains all additional functions used in the module do_calculations_curved</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>adapted_contourEdge
    Function to find only the coordinates representing one edge
    of a contour.
contourEdge
    Function to find only the coordinates representing one edge
    of a contour.
sortContours
    Function to sort detected contours from proximal to distal.
do_curves_intersect
    Function to detect wheter two curves are intersecting or not.
adapted_filter_fascicles
    Filters out fascicles that intersect with other fascicles.
is_point_in_range
    Function to detect wheter a point is between an upper and a lower
    boundary or not.
find_next_fascicle
    Function to find the next fascicle contour.
find_complete_fascicle
    Function to find complete fascicles based on connection of single contours.
crop
    Function to crop the frame around ultrasound images.</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_contourEdge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adapted_contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_contourEdge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find only the coordinates representing one edge
of a contour.</p>
<p>Either the upper or lower edge of the detected contours is
calculated. From the contour detected lower in the image,
the upper edge is searched. From the contour detected
higher in the image, the lower edge is searched. Allows
for more points around the end of the contour than contourEdge.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>edge</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining the type of edge that is
searched. The variable can be either "T" (top) or
"B" (bottom).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="T">T</span>, <span title="B">B</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;T&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contour</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing sorted contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all x-coordinates from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all y-coordinated from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[[[</span><span class="mi">195</span> <span class="mi">104</span><span class="p">]]</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">196</span> <span class="mi">104</span><span class="p">]]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[196 197 198 199 200 ... 952 953 954 955 956 957],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">[120 120 120 120 120 ... 125 125 125 125 125 125]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_filter_fascicles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adapted_filter_fascicles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.adapted_filter_fascicles" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Filters out fascicles that intersect with other fascicles</p>
<p>This function counts for each fascicle the number of intersections
with other fascicles and ranks them based on the number of intersections.
The fascicle with the highest intersection count is excluded.
This ranking and exclusion process is repeated until there are no more intersections.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A DataFrame containing the fascicle data. Expected columns include 'coordsXY'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pandas.DataFrame">DataFrame</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Tolerance to allow intersection points near the aponeuroses</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="pandas.DataFrame">DataFrame</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A DataFrame with the fascicles that do not intersect with other fascicles.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>data = {'coordsXY': [[(78, 268), (78, 266), ...], [(43, 265), (42, 264), ...], ...]}
tolerance = 100
adapted_filter_fascicles(data, tolerance)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.contourEdge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="p">,</span> <span class="n">contour</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.contourEdge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find only the coordinates representing one edge
of a contour.</p>
<p>Either the upper or lower edge of the detected contours is
calculated. From the contour detected lower in the image,
the upper edge is searched. From the contour detected
higher in the image, the lower edge is searched.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>edge</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable defining the type of edge that is
searched. The variable can be either "T" (top) or
"B" (bottom).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="T">T</span>, <span title="B">B</span>)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;T&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contour</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing sorted contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all x-coordinates from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array variable containing all y-coordinated from the
detected contour.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">contourEdge</span><span class="p">(</span><span class="n">edge</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[[[</span><span class="mi">195</span> <span class="mi">104</span><span class="p">]]</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">196</span> <span class="mi">104</span><span class="p">]]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[196 197 198 199 200 ... 952 953 954 955 956 957],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">[120 120 120 120 120 ... 125 125 125 125 125 125]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.crop" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">crop</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">image_fas</span><span class="p">,</span> <span class="n">image_apo</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.crop" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to crop the frame around ultrasound images</p>
<p>Additionally crops the fascicle and aponeuroses images in order that all three images have the same size</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image of the original ultrasound image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_fas</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Binary image of the fascicles within the original image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_apo</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Binary image of the aponeuroses within the original image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cropped_US</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Image of the original ultrasound image without frame around it</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cropped_fas</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Cropped binary image of fascicles within the original image</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cropped_apo</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Cropped binary image of the aponeuroses within the original image</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">crop</span><span class="p">(</span><span class="n">original_image</span><span class="o">=</span><span class="n">array</span><span class="p">([[[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">],[</span><span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">],[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span><span class="o">...</span><span class="p">[</span><span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">],[</span><span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">147</span><span class="p">],[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]],</span><span class="o">...</span><span class="p">,[[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span>  <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">4</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">],[</span>  <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">image_fas</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span> <span class="n">image_apo</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">))</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.do_curves_intersect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">do_curves_intersect</span><span class="p">(</span><span class="n">curve1</span><span class="p">,</span> <span class="n">curve2</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.do_curves_intersect" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to detect wheter two curves are intersecting or not.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>curve1</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing (x,y) coordinate pairs representing one curve</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>curve2</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing (x,y) coordinate pairs representing a second curve</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="Bool">Bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if the curves have an intersection point
'False' if the curves don't have an intersection point</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">do_curves_intersect</span><span class="p">(</span><span class="n">curve1</span><span class="o">=</span><span class="p">[(</span><span class="mf">98.06</span><span class="p">,</span> <span class="mf">263.24</span><span class="p">),</span> <span class="p">(</span><span class="mf">98.26</span><span class="p">,</span> <span class="mf">263.19</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">curve2=[(63.45, 258.82), (63.65, 258.76), ...])</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_complete_fascicle</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">contours_sorted</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find complete fascicles based on connection of single contours.</p>
<p>The function extrapolates a second order polynomial fit through the first contour. If the coefficients fall outside a specified range, the curve is considered too curved. As a result, a linear fit is calculated and used for subsequent calculations. The next contour is identified if its first point lies within a specified tolerance range in the positive and negative y-direction around the extrapolated fit. If this condition is met, both contours serve as the basis for the next polynomial fit. This process is repeated until no more possible connecting contours are found.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>i</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the starting contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all (x,y)-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionnary containing a label true or false for every fascicle contour,
true if already used for an extrapolation, false if not</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dictionnary">dictionnary</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mid</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the middle of the image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining the width of the image</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value specifing the permissible range in the positive and negative y-direction within which the next contour can be located to still be considered a part of the extrapolated fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coeff_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Value defining the maximum value of the first coefficient in the second polynomial fit</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of each found and extrapolated fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of each found and extrapolated fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>linear_fit</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if extrapolated fit is linear
'False' if extrapolated fit follows a second order polynomial</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inner_number_contours</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the indices of each contour that constitute each fascicle</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">find_complete_fascicle</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">481</span><span class="p">,</span> <span class="mi">482</span><span class="p">,</span> <span class="mi">483</span><span class="p">,</span> <span class="mi">484</span><span class="p">,</span> <span class="mi">485</span><span class="p">,</span> <span class="mi">486</span><span class="p">,</span> <span class="mi">487</span><span class="p">,</span> <span class="mi">488</span><span class="p">,</span> <span class="mi">489</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">492</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span> <span class="mi">494</span><span class="p">,</span> <span class="mi">495</span><span class="p">,</span> <span class="mi">496</span><span class="p">,</span> <span class="mi">497</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]),</span> <span class="n">contours_sorted_y</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)],</span> <span class="n">contours_sorted</span><span class="o">=</span><span class="p">[[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">]],</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="n">mid</span><span class="o">=</span><span class="mf">256.0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="o">=</span><span class="mf">0.000583</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle_linear" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_complete_fascicle_linear</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">contours_sorted</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">coeff_limit</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_complete_fascicle_linear" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Traces a complete fascicle by iteratively fitting and extrapolating a linear model
through connected contour segments in an ultrasound image.</p>
<p>Starting from a seed contour <code>i</code>, the function fits a line, extrapolates it over a defined
width, and collects all contour segments that lie within a vertical tolerance range
around the extrapolated line. The procedure continues recursively to find connected
fascicle segments along the extrapolated path.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>i</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Index of the initial contour used to start the fascicle tracing.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the x-coordinates of each contour segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the y-coordinates of each contour segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of full contour arrays (used for proximity checking).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of ndarray</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary mapping contour indices to a boolean indicating whether they have already been used.
Will be updated in-place.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mid</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Midpoint x-coordinate used as center of extrapolation range.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Half-width of the extrapolation span in pixels (from <code>mid - width</code> to <code>mid + width</code>).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tolerance</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Vertical distance in pixels allowed between the extrapolated line and candidate contour segments.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coeff_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Currently unused; placeholder for limiting slope or intercept values during fitting.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Extrapolated x-coordinates of the complete fascicle.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ex_current_fascicle_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Corresponding y-coordinates from the final linear model fit.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>linear_fit</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Flag indicating whether a linear fit was successfully computed (always <code>True</code> in current logic).</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inner_number_contours</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of contour indices that belong to the detected fascicle.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code>list of int</code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>This function modifies the <code>label</code> dictionary in-place to prevent reprocessing contours.</li>
<li>The input <code>coeff_limit</code> is accepted but currently not used for filtering.</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_x</span><span class="p">,</span> <span class="n">ex_y</span><span class="p">,</span> <span class="n">is_linear</span><span class="p">,</span> <span class="n">used_contours</span> <span class="o">=</span> <span class="n">find_complete_fascicle_linear</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">... </span>    <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">... </span>    <span class="n">contours_sorted_x</span><span class="o">=</span><span class="n">contour_x_list</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">... </span>    <span class="n">contours_sorted_y</span><span class="o">=</span><span class="n">contour_y_list</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">... </span>    <span class="n">contours_sorted</span><span class="o">=</span><span class="n">contour_list</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="kc">False</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">contour_x_list</span><span class="p">))},</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="gp">... </span>    <span class="n">mid</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="gp">... </span>    <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="gp">... </span>    <span class="n">tolerance</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="gp">... </span>    <span class="n">coeff_limit</span><span class="o">=</span><span class="mf">0.5</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="gp">... </span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ex_x</span><span class="p">,</span> <span class="n">ex_y</span><span class="p">)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Used </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">used_contours</span><span class="p">)</span><span class="si">}</span><span class="s2"> contour segments.&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.find_next_fascicle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_next_fascicle</span><span class="p">(</span><span class="n">all_contours</span><span class="p">,</span> <span class="n">contours_sorted_x</span><span class="p">,</span> <span class="n">contours_sorted_y</span><span class="p">,</span> <span class="n">x_current_fascicle</span><span class="p">,</span> <span class="n">y_current_fascicle</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.find_next_fascicle" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to find the next fascicle contour</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>all_contours</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all (x,y)-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_x</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contours_sorted_y</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of each detected contour</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_current_fascicle</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of the currently examined fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_current_fascicle</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of the currently examined fascicle</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates within the range of the extrapolation</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upper_bound</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the lower boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lower_bound</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the upper boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionnary containing a label true or false for every fascicle contour,
true if already used for an extrapolation, false if not</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dictionnary">dictionnary</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_x</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the x-coordinates of the currently examined fascicle
merged with the x-coordinates of the next fascicle contour within the
boundary if one was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_y</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List containing the y-coordinates of the currently examined fascicle
merged with the y-coordinates of the next fascicle contour within the
boundary if one was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>found_fascicle</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value of the found fascicle contour, -1 if no contour was found</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">find_next_fascicle</span><span class="p">(</span><span class="n">all_contours</span> <span class="o">=</span> <span class="p">,</span> <span class="n">contours_sorted_x</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">481</span><span class="p">,</span> <span class="mi">482</span><span class="p">,</span> <span class="mi">483</span><span class="p">,</span> <span class="mi">484</span><span class="p">,</span> <span class="mi">485</span><span class="p">,</span> <span class="mi">486</span><span class="p">,</span> <span class="mi">487</span><span class="p">,</span> <span class="mi">488</span><span class="p">,</span> <span class="mi">489</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">492</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span><span class="mi">494</span><span class="p">,</span> <span class="mi">495</span><span class="p">,</span> <span class="mi">496</span><span class="p">,</span> <span class="mi">497</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)]),</span> <span class="n">contours_sorted_y</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span><span class="o">...</span><span class="p">,</span><span class="n">array</span><span class="p">([</span><span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)],</span> <span class="n">x_current_fascicle</span><span class="o">=</span><span class="n">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">y_current_fascicle</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">165</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">),</span> <span class="n">x_range</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">256.</span>   <span class="p">,</span> <span class="o">-</span><span class="mf">255.795</span><span class="p">,</span> <span class="o">-</span><span class="mf">255.59</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">767.59</span> <span class="p">,</span>  <span class="mf">767.795</span><span class="p">,</span>  <span class="mf">768.</span>   <span class="p">]),</span> <span class="n">upper_bound</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">243.137</span><span class="p">,</span> <span class="mf">243.069</span><span class="p">,</span> <span class="mf">243.001</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.372</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.44</span> <span class="p">,</span> <span class="o">-</span><span class="mf">97.508</span><span class="p">]),</span> <span class="n">lower_bound</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">263.137</span><span class="p">,</span> <span class="mf">263.069</span><span class="p">,</span> <span class="mf">263.001</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">77.372</span><span class="p">,</span> <span class="o">-</span><span class="mf">77.44</span> <span class="p">,</span> <span class="o">-</span><span class="mf">77.508</span><span class="p">]),</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.is_point_in_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_point_in_range</span><span class="p">(</span><span class="n">x_point</span><span class="p">,</span> <span class="n">y_point</span><span class="p">,</span> <span class="n">x_poly</span><span class="p">,</span> <span class="n">lb</span><span class="p">,</span> <span class="n">ub</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.is_point_in_range" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to detect wheter a point is between an upper and a lower
boundary or not.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x_point</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Single integer variable representing the x-coordinate of the point to
be analyzed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_point</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Single integer variable representing the y-coordinate of the point to
be analyzed</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="integer">integer</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_poly</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all x-coordinates of the range where the point could
be located</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lb</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the lower boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ub</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List containing all y-coordinates of the upper boundary</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="Bool">Bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>'True' if point is within both boundaries
'False' if point is outside the boundaries</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">is_point_in_range</span><span class="p">(</span><span class="n">x_point</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">y_point</span><span class="o">=</span><span class="mi">227</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">x_poly=([-200, ..., 800]), lb=([303.165, ..., 130.044]),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">ub=([323.165, ..., 150.044]))</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.curved_fascicles_functions.sortContours" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.curved_fascicles_functions.sortContours" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to sort detected contours from proximal to distal.</p>
<p>The input contours belond to the aponeuroses and are sorted
based on their coordinates, from smallest to largest.
Moreover, for each detected contour a bounding box is built.
The bounding boxes are sorted as well. They are however not
needed for further analyses.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of arrays containing the detected aponeurosis
contours.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cnts</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing arrays of sorted contours.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bounding_boxes</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Tuple containing tuples with sorted bounding boxes.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="tuple">tuple</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">sortContours</span><span class="p">(</span><span class="n">cnts</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">([[[</span><span class="mi">928</span><span class="p">,</span> <span class="mi">247</span><span class="p">]],</span> <span class="o">...</span> <span class="p">[[</span><span class="mi">929</span><span class="p">,</span> <span class="mi">247</span><span class="p">]]],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">dtype=int32),</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">((array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">(array([[[228,  97]], ... [[229,  97]]], dtype=int32),</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">(array([[[928, 247]], ... [[929, 247]]], dtype=int32)),</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">((201, 97, 747, 29), (201, 247, 750, 96))</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.filter_data"></a>
    <div class="doc doc-contents first">

        <p>Module to filter the data subsequent to the analyses functions.</p>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.filter_data.applyFilters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">applyFilters</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.filter_data.applyFilters" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Applies a selected filter to the input data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The input data to be filtered.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The type of filter to apply. Options are "median", "gaussian", "savitzky_golay".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;median&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Additional parameters for the selected filter.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>list of lists</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The filtered data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.filter_data.apply_rate_limit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_rate_limit</span><span class="p">(</span><span class="n">pa_values</span><span class="p">,</span> <span class="n">max_jump</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.filter_data.apply_rate_limit" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Apply hard rate limiting to a sequence of pennation angles (deg).</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pa_values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List/array of per-frame pennation angles (floats, may contain NaN).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="array">array</span> - <span title="like">like</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_jump</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Maximum allowed change per frame (deg). Default is 4.0.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>0.5</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="numpy.ndarray">ndarray</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Array of rate-limited pennation angles, same length as input.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>NaNs are carried forward as the last valid value.</li>
<li>The first frame is kept as-is (if valid).</li>
<li>Each subsequent frame changes by at most <code>max_jump</code> compared to the previous output.</li>
</ul>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.filter_data.hampelFilterList" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hampelFilterList</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">win_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">num_dev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center_win</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.filter_data.hampelFilterList" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Applies a Hampel filter to a list of numerical values.</p>
<p>This function detects and replaces outliers with the rolling median
within a specified window size.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of numerical values.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>win_size</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Window size for rolling median filtering. Default is 5.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>5</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_dev</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Number of standard deviations for outlier detection. Default is 1.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>center_win</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Whether the window is centered on the point. Default is True.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="dict">dict</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A dictionary with:
- "filtered" : list with filtered values.
- "outliers" : list where outliers are replaced with NaN.
- "is_outlier" : list of boolean values indicating outliers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">hampel_filter_list</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">win_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">num_dev</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;filtered&quot;</span><span class="p">])</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">[10, 12, 13, 14, 13, 15, 16, 18, 16]</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;is_outlier&quot;</span><span class="p">])</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">[False, False, True, False, False, False, True, False, False]</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.calculate_architecture"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions to automatically or manually
analyse muscle architecture in longitudinal ultrasonography images
of human lower limb muscles.
The scope of the automatic method is limited to the vastus
lateralis, tibialis anterior, gastrocnemius medialis and soleus muscles
due to training data availability.
The scope of the manual method is not limited to specific muscles.
The module was specifically designed to be executed from a GUI.
When used from the GUI, the module saves the analysis results in a .xlsx file
to a given directory. The user needs to provide paths to the image, model,
and flipflag file directories.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>importAndReshapeImage
    Function to import and reshape an image. Moreover, based upon
    user specification the image might be flipped.
importImageManual
     Function to import an image.
importFlipFlagsList
     Function to retrieve flip values from a .txt file.
compileSaveResults
     Function to save the analysis results to a .xlsx file.
IoU
    Function to compute the intersection over union score (IoU),
    a measure of prediction accuracy. This is sometimes also called Jaccard
    score.
calculateBatch
    Function to calculate muscle architecture in longitudinal ultrasonography
    images of human lower limb muscles. The values computed are fascicle
    length (FL), pennation angle (PA), and muscle thickness (MT).
calculateBatchManual
    Function used for manual calculation of fascicle length, muscle thickness
    and pennation angles in longitudinal ultrasonography images of human lower
    limb muscles.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information and usage exaples can be found at the respective
functions documentations.</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.calculateBatch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateBatch</span><span class="p">(</span><span class="n">rootpath</span><span class="p">,</span> <span class="n">apo_modelpath</span><span class="p">,</span> <span class="n">fasc_modelpath</span><span class="p">,</span> <span class="n">flip_file_path</span><span class="p">,</span> <span class="n">file_type</span><span class="p">,</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">gui</span><span class="p">,</span> <span class="n">image_frame</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatch" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calculate muscle architecture in longitudinal
ultrasonography images of human lower limb muscles. The values
computed are fascicle length (FL), pennation angle (PA),
and muscle thickness (MT).</p>
<p>The scope of this function is limited. Images of the vastus lateralis,
tibialis anterior soleus and gastrocnemius  muscles can be analyzed.
This is due to the limited amount of training data for our convolutional
neural networks. This functions makes extensive use
of several other functions and was designed to be executed from a GUI.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the path to the folder where all images
to be analyzed are saved.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>apo_modelpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the absolute path to the aponeurosis
neural network.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fasc_modelpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the absolute path to the fascicle
neural network.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flip_file_path</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variabel containing the absolute path to the flip flag
.txt file containing the flip flags. Flipping is necessary as the
models were trained on images of with specific fascicle orientation.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containg the respective type of the images.
This is needed to select only the relevant image files
in the root directory.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scaling</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variabel determining the image scaling method.
There are three types of scaling available:
- scaling = "manual" (user must scale images manually)
- sclaing = "bar" (image are scaled automatically. This is done by
  detecting scaling bars on the right side of the image.)
- scaling = "No scaling" (image is not scaled.)
Scaling is necessary to compute measurements in centimeter,
if "no scaling" is chosen, the results are in pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(<span title="bar">bar</span>, <span title="manual">manual</span>, &#39;No scaling&#39;)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#34;bar&#34;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>spacing</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Distance (in milimeter) between two scaling bars in the image.
This is needed to compute the pixel/cm ratio and therefore report
the results in centimeter rather than pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(10, 5, 15, 20)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>10</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>settings</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary containing the analysis settings of the GUI.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A tkinter.TK class instance that represents a GUI. By passing this
argument, interaction with the GUI is possible i.e., stopping
the calculation process after each image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_frame</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.Frame">Frame</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>do_calculations.py for exact description of muscle architecture parameter
calculation.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>For specific explanations of the included functions see the respective
function docstrings in this module. To see an examplenary PDF output
and .xlsx file take at look at the examples provided in the "examples"
directory.
This function is called by the GUI. Note that the functioned was
specifically designed to be called from the GUI. Thus, tk.messagebox
will pop up when errors are raised even if the GUI is not started.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateBatch</span><span class="p">(</span><span class="n">rootpath</span><span class="o">=</span><span class="s2">&quot;C:/Users/admin/Dokuments/images&quot;</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                   apo_modelpath=&quot;C:/Users/admin/Dokuments/models/apo_model.h5&quot;,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                   fasc_modelpath=&quot;C:/Users/admin/Dokuments/models/apo_model.h5&quot;,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                   flip_file_path=&quot;C:/Users/admin/Dokuments/flip_flags.txt&quot;,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                   file_type=&quot;/**/*.tif, scaline=&quot;bar&quot;, spacing=10, filter_fasc=False,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">                   settings=settings,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">                   gui=&lt;__main__.DL_Track_US object at 0x000002BFA7528190&gt;,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">                   image_frame=None)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.calculateBatchManual" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateBatchManual</span><span class="p">(</span><span class="n">rootpath</span><span class="p">,</span> <span class="n">filetype</span><span class="p">,</span> <span class="n">gui</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.calculateBatchManual" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function used for manual calculation of fascicle length,
muscle thickness and pennation angles in longitudinal
ultrasonography images of human lower limb muscles.</p>
<p>This function is not restricted to any specific muscles. However,
its use is restricted to a specific method for assessing muscle
thickness fascicle length and pennation angles.</p>
<ul>
<li>Muscle thickness:
                   Exactly one segment reaching from the superficial to the
                   deep aponeuroses of the muscle must be drawn.
                   If multiple measurement are drawn, these are averaged.
                   Drawing can be started by clickling the left mouse
                   button and keeping it pressed until it is not further
                   required to draw the line (i.e., the other aponeurosis
                   border is reached). Only the respective y-coordinates
                   of the points where the cursor was clicked and released
                   are considered for calculation of muscle thickness.</li>
<li>Fascicle length:
                  Exactly three segments along the fascicleof the muscle
                  must be drawn. If multiple fascicle are drawn, their
                  lengths are averaged. Drawing can be started by clickling
                  the left mouse button and keeping it pressed until one
                  segment is finished (mostly where fascicle curvature
                  occurs the other aponeurosis border is reached). Using
                  the euclidean distance, the total fascicle length is
                  computed as a sum of the segments.</li>
<li>Pennation angle:
                  Exactly two segments, one along the fascicle
                  orientation, the other along the aponeurosis orientation
                  must be drawn. The line along the aponeurosis must be
                  started where the line along the fascicle ends. If
                  multiple angle are drawn, they are averaged. Drawing can
                  be started by clickling the left mouse button and keeping
                  it pressed until it is not further required to draw the
                  line (i.e., the aponeurosis border is reached by the
                  fascicle). The angle is calculated using the arc-tan
                  function.
In order to scale the frame, it is required to draw a line of length 10
milimeter somewhere in the image. The line can be drawn in the same
fashion as for example the muscle thickness. Here however, the euclidean
distance is used to calculate the pixel / centimeter ratio. This has to
be done for every frame.</li>
</ul>
<p>We also provide the functionality to extent the muscle aponeuroses to more
easily extrapolate fascicles. The lines can be drawn in the same fashion as
for example the muscle thickness.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the path to the folder where all images
to be analyzed are saved.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A tkinter.TK class instance that represents a GUI. By passing this
argument, interaction with the GUI is possible i.e., stopping
the calculation process after each image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>For specific explanations of the included functions see the respective
function docstrings in this module. The function outputs an .xlsx
file in rootpath containing the (averaged) analysis results for each
image.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateBatchManual</span><span class="p">(</span><span class="n">rootpath</span><span class="o">=</span><span class="s2">&quot;C:/Users/admin/Dokuments/images&quot;</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                         filetype=&quot;/**/*.tif,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                         gui&quot;)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.exportToExcel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exportToExcel</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">fasc_l_all</span><span class="p">,</span> <span class="n">pennation_all</span><span class="p">,</span> <span class="n">x_lows_all</span><span class="p">,</span> <span class="n">x_highs_all</span><span class="p">,</span> <span class="n">thickness_all</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;Results&#39;</span><span class="p">,</span> <span class="n">filtered_fasc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filtered_pennation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">analysis_mode</span><span class="o">=</span><span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="n">image_filenames</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.exportToExcel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Saves raw and optionally filtered analysis results to an Excel file, including an index column for each frame.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Path where the Excel file will be saved.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Name of the Excel file.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;Results&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fasc_l_all</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Raw fascicle length data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pennation_all</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Raw pennation angle data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_lows_all</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of lower aponeurosis intersections.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_highs_all</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>X-coordinates of upper aponeurosis intersections.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thickness_all</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Muscle thickness measurements.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filtered_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Filtered fascicle length data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filtered_pennation</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Filtered pennation angle data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of lists</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>analysis_mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Analysis mode used for the calculations. If "video", savgol filter will be appiled.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;video&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_filenames</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of image filenames corresponding to the analysis results.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>list of str</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.getFlipFlagsList" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getFlipFlagsList</span><span class="p">(</span><span class="n">flip_flag_path</span><span class="p">,</span> <span class="n">gui</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.getFlipFlagsList" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to retrieve flip values from a .txt file.</p>
<p>The flip flags decide wether an image should be flipped or not.
The flags can be 0 (image not flipped) or 1 (image is flipped).
The flags must be specified in the .txt file and can either be
on a seperate line for each image or on a seperate line for each folder.
The amount of flip flags must equal the amount of images analyzed.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flip_flag_path</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variabel containing the absolute path to the flip flag
.txt file containing the flip flags.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The GUI object.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.Tk">Tk</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flip_flags</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A list variable containing all flip flags included in the
specified .txt file</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">getFlipFlagsList</span><span class="p">(</span><span class="n">flip_flag_path</span><span class="o">=</span><span class="s2">&quot;C:/Desktop/Test/FlipFlags/flags.txt&quot;</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[1, 0, 1, 0, 1, 1, 1]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.importAndReshapeImage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">importAndReshapeImage</span><span class="p">(</span><span class="n">path_to_image</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.importAndReshapeImage" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to import and reshape an image. Moreover, based upon
user specification the image might be flipped.</p>
<p>Usually flipping is only required when the imported image is of
a specific structure that is incompatible with the trained models
provided here</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path_to_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the imagepath. This should be an
 absolute path.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flip</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining wheter an image should be flipped.
This can be 0 (image is not flipped) or 1 (image is flipped).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(0, 1)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>0</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>img</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The loaded images is converted to a np.nadarray. This is done
using the img_to_array kears functionality. The input image is
futhter flipped (if selected), resized, respahed and normalized.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>img_copy</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A copy of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>non_flipped_img</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A copy of the input image. This copy is made prior to image
flipping.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>height</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value containing the image height of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value containing the image width of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>String value containing the name of the input image, not the
entire path.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">importAndReshapeImage</span><span class="p">(</span><span class="n">path_to_image</span><span class="o">=</span><span class="s2">&quot;C:/Users/Dokuments/images/img1.tif&quot;</span><span class="p">,</span> <span class="n">flip</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[[[[0.10113753 0.09391343 0.09030136] ... [0 0 0]]], [[[28 26 25] ... [ 0  0  0]]], [[[28 26 25] ... [ 0  0  0]]], 512, 512, img1.tif</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.importImageManual" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">importImageManual</span><span class="p">(</span><span class="n">path_to_image</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.importImageManual" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to import an image.</p>
<p>This function is used when manual analysis of the
image is selected in the GUI. For manual analysis,
it is not necessary to resize, reshape and normalize the image.
The image may be flipped.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path_to_image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the imagepath. This should be an
 absolute path.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flip</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer value defining wheter an image should be flipped.
This can be 0 (image is not flipped) or 1 (image is flipped).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(0, 1)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>0</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>img</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The loaded images as a np.nadarray in grayscale.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>String value containing the name of the input image, not the
entire path.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">importImageManual</span><span class="p">(</span><span class="n">path_to_image</span><span class="o">=</span><span class="s2">&quot;C:/Desktop/Test/Img1.tif&quot;</span><span class="p">,</span> <span class="n">flip</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[[[28 26 25] [28 26 25] [28 26 25] ... [[ 0  0  0] [ 0  0  0] [ 0  0  0]]],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">Img1.tif</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture.preprocess_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">preprocess_function</span><span class="p">(</span><span class="n">image</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture.preprocess_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to preprocess an image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image to be preprocessed.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="numpy.ndarray">ndarray</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Preprocessed image.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.calculate_architecture_video"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions to automatically or manually
analyse muscle architecture in longitudinal ultrasonography videos
of human lower limb muscles.
The scope of the automatic method is limited to the vastus
lateralis, tibialis anterior, gastrocnemius medialis and soleus muscles
due to training data availability.
The scope of the manual method is not limited to specific muscles.
The module was specifically designed to be executed from a GUI.
When used from the GUI, the module saves the analysis results in a .xlsx file
to a given directory. The user needs to provide paths to the video, model,
and flipflag file directories.
With both methods, every frame is analyzed seperately and the results for each
frame are saved.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>importAndReshapeImage
    Function to import and reshape an image. Moreover, based upon
    user specification the image might be flipped.
importImageManual
    Function to import an image.
importFlipFlagsList
    Function to retrieve flip values from a .txt file.
compileSaveResults
    Function to save the analysis results to a .xlsx file.
calculateBatch
    Function to calculate muscle architecture in longitudinal ultrasonography
    images of human lower limb muscles. The values computed are fascicle length
    (FL), pennation angle (PA), and muscle thickness (MT).
calculateBatchManual
    Function used for manual calculation of fascicle length, muscle thickness
    and pennation angles in longitudinal ultrasonography images of human lower
    limb muscles.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information and usage examples can be found at the respective
functions documentations.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <p>calculate_architecture.py</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateArchitectureVideo</span><span class="p">(</span><span class="n">rootpath</span><span class="p">,</span> <span class="n">apo_modelpath</span><span class="p">,</span> <span class="n">fasc_modelpath</span><span class="p">,</span> <span class="n">filetype</span><span class="p">,</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">flip</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">filter_fasc</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">gui</span><span class="p">,</span> <span class="n">display_frame</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideo" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calculate muscle architecture in longitudinal
ultrasonography videos of human lower limb muscles. The values
computed are fascicle length (FL), pennation angle (PA),
and muscle thickness (MT).</p>
<p>The scope of this function is limited. videos of the vastus lateralis,
tibialis anterior soleus and gastrocnemius  muscles can be analyzed.
This is due to the limited amount of training data for our convolutional
neural networks. This functions makes extensive use
of several other functions and was designed to be executed from a GUI.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rootpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the path to the folder where all videos
to be analyzed are saved.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>apo_modelpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the absolute path to the aponeurosis
neural network.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fasc_modelpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the absolute path to the fascicle
neural network.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flip</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable determining wheter all frames of a video are
flipped vetically.
Flipping is necessary as the models were trained in images of
with specific fascicle orientation.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filetype</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containg the respective type of the videos.
This is needed to select only the relevant video files
in the root directory.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scaling</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable determining the image scaling method.
There are three types of scaling available:
- scaling = "manual" (user must scale the video manually.
  This only needs to be done in the first frame.)
  detecting scaling bars on the right side of the image.)
- scaling = "No scaling" (video frames are not scaled.)
Scaling is necessary to compute measurements in centimeter,
if "no scaling" is chosen, the results are in pixel units.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the step for the range of video frames.
If step != 1, frames are skipped according to the size of step.
This might decrease processing time but also accuracy.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_fasc</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, fascicles will be filtered so that no crossings are included.
This may reduce number of totally detected fascicles.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>settings</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Dictionary containing the settings of the GUI. These specify the
prediction parameters for the neural networks.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A tkinter.TK class instance that represents a GUI. By passing this
argument, interaction with the GUI is possible i.e., stopping
the calculation process after each image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>display_frame</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Boolean variable determining whether the current frame is displayed in main
UI.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>do_calculations_video.py for exact description of muscle architecture
parameter calculation.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>For specific explanations of the included functions see the respective
function docstrings in this module. To see an examplenary video output
and .xlsx file take at look at the examples provided in the "examples"
directory.
This function is called by the GUI. Note that the functioned was
specifically designed to be called from the GUI. Thus, tk.messagebox
will pop up when errors are raised even if the GUI is not started.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateBatch</span><span class="p">(</span><span class="n">rootpath</span><span class="o">=</span><span class="s2">&quot;C:/Users/admin/Dokuments/images&quot;</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                   apo_modelpath=&quot;C:/Users/admin/Dokuments/models/apo_model.h5&quot;,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                   fasc_modelpath=&quot;C:/Users/admin/Dokuments/models/apo_model.h5&quot;,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                   flip=&quot;Flip&quot;, filetype=&quot;/**/*.avi, scaline=&quot;manual&quot;,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                   filter_fasc=False</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">                   settings=settings,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">                   gui=&lt;__main__.DLTrack object at 0x000002BFA7528190&gt;,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">                   display_frame=True)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideoManual" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateArchitectureVideoManual</span><span class="p">(</span><span class="n">videopath</span><span class="p">,</span> <span class="n">gui</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture_video.calculateArchitectureVideoManual" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function used for manual calculation of fascicle length, muscle
thickness and pennation angles in longitudinal ultrasonography videos
of human lower limb muscles.</p>
<p>This function is not restricted to any specific muscles. However, its use
is restricted to a specific method for assessing muscle thickness fascicle
length and pennation angles. Moreover, each video frame is analyzed
seperately.</p>
<ul>
<li>Muscle thickness:
                   Exactly one segment reaching from the superficial to the
                   deep aponeuroses of the muscle must be drawn.
                   If multiple measurement are drawn, these are averaged.
                   Drawing can be started by clickling the left mouse
                   button and keeping it pressed until it is not further
                   required to draw the line (i.e., the other aponeurosis
                   border is reached). Only the respective y-coordinates
                   of the points where the cursor was clicked and released
                   are considered for calculation of muscle thickness.</li>
<li>Fascicle length:
                  Exactly three segments along the fascicleof the muscle
                  must be drawn. If multiple fascicle are drawn, their
                  lengths are averaged. Drawing can be started by clickling
                  the left mouse button and keeping it pressed until one
                  segment is finished (mostly where fascicle curvature
                  occurs the other aponeurosis border is reached). Using
                  the euclidean distance, the total fascicle length is
                  computed as a sum of the segments.</li>
<li>Pennation angle:
                  Exactly two segments, one along the fascicle
                  orientation, the other along the aponeurosis orientation
                  must be drawn. The line along the aponeurosis must be
                  started where the line along the fascicle ends. If
                  multiple angle are drawn, they are averaged. Drawing can
                  be started by clickling the left mouse button and keeping
                  it pressed until it is not further required to draw the
                  line (i.e., the aponeurosis border is reached by the
                  fascicle). The angle is calculated using the arc-tan
                  function.
In order to scale the frame, it is required to draw a line of length 10
milimeter somewhere in the image. The line can be drawn in the same
fashion as for example the muscle thickness. Here however, the euclidean
distance is used to calculate the pixel / centimeter ratio. This has to
be done for every frame.</li>
</ul>
<p>We also provide the functionality to extent the muscle aponeuroses to more
easily extrapolate fascicles. The lines can be drawn in the same fashion as
for example the muscle thickness.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>videopath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the absolute path to the video
to be analyzed.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gui</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A tkinter.TK class instance that represents a GUI. By passing this
argument, interaction with the GUI is possible i.e., stopping
the calculation process after each image frame.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>For specific explanations of the included functions see the respective
function docstrings in this module. The function outputs an .xlsx
file in rootpath containing the (averaged) analysis results for each
image.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateBatchManual</span><span class="p">(</span><span class="n">videopath</span><span class="o">=</span><span class="s2">&quot;C:/Users/admin/Dokuments/videoss&quot;</span><span class="p">,</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                         gui&quot;)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture_video.importVideo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">importVideo</span><span class="p">(</span><span class="n">vpath</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideo" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to import a video. Video file types should be common
ones like .avi or .mp4.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the video. This should be an
absolute path.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cap</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Object that contains the video in a np.ndarrray format.
In this way, seperate frames can be accessed.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="cv2.VideoCapture">VideoCapture</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_len</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer variable containing the number of frames present
in cap.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer variable containing the image width of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>String variable containing the name of the input video, not the
entire path.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_out</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Object that is stored in the vpath folder.
Contains the analyzed video frames and is titled "..._proc.avi"
The name can be changed but must be different than the input
video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="cv2.VideoWriter">VideoWriter</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">importVideo</span><span class="p">(</span><span class="n">vpath</span><span class="o">=</span><span class="s2">&quot;C:/Users/Dokuments/videos/video1.avi&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calculate_architecture_video.importVideoManual" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">importVideoManual</span><span class="p">(</span><span class="n">vpath</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calculate_architecture_video.importVideoManual" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to import a video. Video file types should be common
ones like .avi or .mp4. This function is used for manual
analysis of videos.</p>
<p>Here, no processed video is saved subsequent to analysis.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>String variable containing the video. This should be an
absolute path.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code> cap : cv2.VideoCapture</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Object that contains the video in a np.ndarrray format.
In this way, seperate frames can be accessed.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_len</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A copy of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="DL_Track_US.gui_helpers.filter_data.np.ndarray">ndarray</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_width</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value containing the image width of the input video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vid_height</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value containing the image height of the input video.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer value containing the image width of the input image.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>String value containing the name of the input video, not the
entire path.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">importVideo</span><span class="p">(</span><span class="n">vpath</span><span class="o">=</span><span class="s2">&quot;C:/Users/Dokuments/videos/video1.avi&quot;</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.calibrate"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains functions to automatically scale images.
The scope of the automatic method is limited to scaling bars being
present in the right side of the image. However, the distance
between two selected points in the image required for the scaling must be
known.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>calibrateDistanceStatic
    Function to calibrate an image to convert measurements
    in pixel units to centimeters.</p>
</details>









  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="DL_Track_US.gui_helpers.calibrate.calibrateDistanceStatic" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calibrateDistanceStatic</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">spacing</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.calibrate.calibrateDistanceStatic" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Function to calibrate an image to convert measurements
in pixel units to centimeter.</p>
<p>The function calculates the distance in pixel units between two
scaling bars on the input image. The bars should be positioned on the
right side of image. The distance (in milimeter) between two bars must
be specified by the spacing variable. It is the known distance between two
bars in milimeter. Then the ratio of pixel / centimeter is calculated.
To get the distance, the median distance between two detected bars
is calculated.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>img</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Input image to be analysed as a numpy array. The image must
be loaded prior to calibration, specifying a path
is not valid.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="numpy.ndarray">ndarray</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>spacing</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Integer variable containing the known distance in milimeter
between the two scaling bars. This can be 5, 10,
15 or 20 milimeter.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>(10, 5, 15, 20)</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>10</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>calib_dist</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Integer variable containing the distance between the two
specified point in pixel units.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scale_statement</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>String variable containing a statement how many milimeter
correspond to how many pixels.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calibrateDistanceStatic</span><span class="p">(</span><span class="n">img</span><span class="o">=</span><span class="p">([[[[</span><span class="mf">0.22414216</span> <span class="mf">0.19730392</span> <span class="mf">0.22414216</span><span class="p">]</span> <span class="o">...</span> <span class="p">[</span><span class="mf">0.2509804</span>  <span class="mf">0.2509804</span>  <span class="mf">0.2509804</span> <span class="p">]]]),</span> <span class="mi">5</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">99, 5 mm corresponds to 99 pixels</span>
</span></code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="DL_Track_US.gui_helpers.manual_tracing"></a>
    <div class="doc doc-contents first">



<details class="description" open>
  <summary>Description</summary>
  <p>This module contains a class to manually annotate longitudinal ultrasonography
images and videos. When the class is initiated, a graphical user interface is
opened. There, the user can annotate muscle fascicle length, pennation angle
and muscle thickness. Moreover, the images can be scaled in order to get
measurements in centimeters rather than pixels. By clicking the respective
buttons in the GUI, the user can switch between the different parameters to
analyze. The analysis is not restricted to any specific muscles. However,
its use is restricted to a specific method for assessing muscle thickness,
fascicle length and pennation angles. Moreover, each video frame is analyzed
separately. An .xlsx file is retuned containing the analysis results for
muscle fascicle length, pennation angle and muscle thickness.</p>
</details>

<details class="functions-scope" open>
  <summary>Functions scope</summary>
  <p>For scope of the functions see class documentation.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Additional information and usage examples can be found at the respective
functions docstrings.</p>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis" class="doc doc-heading">
            <code>ManualAnalysis</code>


<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Python class to manually annotate longitudinal muscle
ultrasonography images/videos of human lower limb muscles.
An analysis tkinter GUI is opened upon initialization of the class.
By clicking the buttons, the user can switch between different
parameters to analyze in the images.</p>
<ul>
<li>Muscle thickness:
                   Exactly one segment reaching from the superficial to
                   the deep aponeuroses of the muscle must be drawn.
                   If multiple measurement are drawn, these are averaged.
                   Drawing can be started by clickling the left mouse
                   button and keeping it pressed until it is not further
                   required to draw the line (i.e., the other aponeurosis
                   border is reached). Only the respective y-coordinates
                   of the points where the cursor was clicked and released
                   are considered for calculation of muscle thickness.</li>
<li>Fascicle length:
                  Exactly three segments along the fascicleof the muscle
                  must be drawn. If multiple fascicle are drawn, their
                  lengths are averaged. Drawing can be started by
                  clickling the left mouse button and keeping it pressed
                  until one segment is finished (mostly where fascicle
                  curvature occurs the other aponeurosis border is
                  reached). Using the euclidean distance, the total
                  fascicle length is computed as a sum of the segments.</li>
<li>Pennation angle:
                  Exactly two segments, one along the fascicle
                  orientation, the other along the aponeurosis orientation
                  must be drawn. The line along the aponeurosis must be
                  started where the line along the fascicle ends. If
                  multiple angle are drawn, they are averaged. Drawing
                  can be started by clickling the left mouse button and
                  keeping it pressed until it is not further required to
                  draw the line (i.e., the aponeurosis border is reached
                  by the fascicle). The angle is calculated using the
                  arc-tan function.
In order to scale the image/video frame, it is required to draw a line
of length 10 milimeter somewhere in the image. The line can be drawn in
the same fashion as for example the muscle thickness. Here however, the
euclidean distance is used to calculate the pixel / centimeter ratio.
This has to be done for every frame. We also provide the functionality
to extend the muscle aponeuroses to more easily extrapolate fascicles.
The lines can be drawn in the same fashion as for example the muscle
thickness. During the analysis process, care must be taken to not
accidentally click the left mouse button as those coordinates might
mess up the results given that calculations are based on a strict
analysis protocol.</li>
</ul>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.image_list">self.image_list</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing the absolute paths to all images / video to
be analyzed.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.rootpath">self.rootpath</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Path to root directory where images / videos for the analysis are
saved.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.lines">self.lines</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing all lines that are drawn upon the image
by the user. The list is emptied each time the analyzed parameter
is changed.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.scale_coords">self.scale_coords</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing the xy-coordinates coordinates of the
scaling line start- and endpoints to calculate the distance between.
The list is emptied each time a new image is scaled.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.thick_coords">self.thick_coords</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing the xy-coordinates coordinates of the
muscle thickness line start- and endpoints to calculate the distance
between. The list is emptied each time a new image is scaled. Only
the y-coordintes are used for further analysis.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.fasc_coords">self.fasc_coords</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing the xy-coordinates coordinates of the
fascicle length line segments start- and endpoints to calculate
the total length of the fascicle. The list is emptied each time a
new image is analyzed.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.pen_coords">self.pen_coords</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list variable containing the xy-coordinates coordinates of the
pennation angle line segments start- and endpoints to calculate
the angle of the fascicle. The list is emptied each time a new
image is analyzed.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.coords">self.coords</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Dictionary variable storing the xy-coordinates of mouse events
during analysis. Mouse events are clicking and releasing of the
left mouse button as well as dragging of the cursor.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="dict">dict</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.count">self.count</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Index of image / video frame currently analysis in the list of
image file / video frame paths. The default is 0 as the first
image / frame analyzed always has the idex 0 in the list.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>int, default = 0</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.dataframe">self.dataframe</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Panadas dataframe that stores the analysis results such as file
name, fascicle length, pennation angle and muscle thickness.
This dataframe is then saved in an .xlsx file.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="pandas.DataFrame">DataFrame</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.head">self.head</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>tk.Toplevel instance opening a window containing the manual
image analysis options.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.TK">TK</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.mode">self.mode</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>tk.Stringvar variable containing the current parameter analysed
by the user. The parameters are
- muscle thickness : thick
- fascicle length : fasc
- pennation angle : pen
- scaling : scale
- aponeurosis drawing : apo
The variable is updaten upon selection of the user. The default
is muscle thickness.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>tk.Stringvar, default = thick</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.cavas">self.cavas</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>tk.Canvas variable representing the canvas the image is plotted
on in the GUI. The canvas is used to draw on the image.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="tkinter.Canvas">Canvas</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.img">self.img</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>ImageTk.PhotoImage variable containing the current image that is
analyzed. It is necessary to load the image in this way in order
to plot the image.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="PIL.ImageTk.PhotoImage">PhotoImage</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.self.dist">self.dist</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Integer variable containing the length of the scaling line in
pixel units. This variable is then used to scale the image.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">METHOD</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="__init__(img_list, rootpath) (DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__)" href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__">__init__</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Instance method to initialize the class.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="calculateBatchManual() (DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual)" href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual">calculateBatchManual</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Instance method creating the GUI for manual image analysis.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">img_list</span><span class="p">,</span> <span class="n">rootpath</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">



<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>img_list</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A list variable containing the absolute paths to all images /
video to be analyzed.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rootpath</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Path to root directory where images / videos for the analysis are
saved.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">man_analysis</span> <span class="o">=</span> <span class="n">ManualAnalysis</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">    img_list=[&quot;C:/user/Dokuments/images/image1.tif&quot;,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">    &quot;C:/user/Dokuments/images/image2.tif&quot;,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">    &quot;C:/user/Dokuments/images/image3.tif&quot;],</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">    rootpath=&quot;C:/user/Dokuments/images&quot;)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateBatchManual</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateBatchManual" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method creating a GUI for manual annotation of longitudinal
ultrasoud images of human lower limb muscles.</p>
<p>The GUI contains several analysis options for the current image
openend. The user is able to switch between analysis of muscle
thickness, fascicle length and pennation angle. Moreover, the
image can be scaled and the aponeuroses can be extendet to easy
fascicle extrapolation. When one image is finished, the GUI
updated by clicking "next image". The Results can be saved by
clicking "save results". It is possible to save each image
seperately. The GUI can be closed by clicking "break analysis"
or simply close the window.</p>


<details class="note" open>
  <summary>Notes</summary>
  <p>The GUI can be initated from the main DL_Track GUI. It is also
possible to initiate the ManualAnalis class from the command
promt and interact with its GUI as a standalone. To do so,
the lines 231 (self.head = tk.Tk()) and 314 (self.head.mainloop())
must be uncommented and the line 233 (self.head = tk.Toplevel())
must be commented.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateFascicles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateFascicles</span><span class="p">(</span><span class="n">fasc_list</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateFascicles" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to calculate muscle fascicle legth as a sum of three
annotated segments.</p>
<p>The length of three line segment is calculated by summing their
individual length. Here, the length of a single annotated fascicle
is calculated considering the three drawn segments of the respective
fascicle. The euclidean distance between the start and endpoint of
each segment is calculated and summed. Then the length of the
fascicle is outputted in pixel units.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fasc_list</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the first mouse
click event and the mouse release event of each annotated fascicle
segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fascicles</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the fascicle length in pixel units.
This value is calculated by summing the euclidean distance of
each drawn fascicle segment. If multiple fascicles are drawn,
multiple fascicle length values are outputted.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateFascicles</span><span class="p">(</span><span class="n">fasc_list</span><span class="o">=</span><span class="p">[[</span><span class="mf">392.0</span><span class="p">,</span> <span class="mf">622.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">632.0</span><span class="p">,</span> <span class="mf">544.0</span><span class="p">],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                                  [632.0, 544.0],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                                  [1090.0, 415.0], [1090.0, 415.0],</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                                  [1274.0, 381.0],</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                                  [449.0, 627.0], [748.0, 541.0],</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">                                  [748.0, 541.0],</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">                                  [1109.0, 429.0], [1109.0, 429.0],</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="go">                                  [1297.0, 390.0]])</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">[915.2921723246823, 881.0996335404545]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculatePennation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculatePennation</span><span class="p">(</span><span class="n">pen_list</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculatePennation" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to calculate muscle pennation angle between three
points.</p>
<p>The angle between three points is calculated using the arc tangent.
Here, the points used for calculation are the start and endpoint of
the line segment drawn alongside the fascicle as well as the endpoint
of the segment drawn along the aponeurosis. The pennation angle
is outputted in degrees.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pen_list</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the first mouse
click event and the mouse release event of each annotated
pennation angle segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pen_angles</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the pennation angle in degrees.
If multiple pennation angles are drawn, multiple angle values
are outputted.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>self.getAngle()</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateFascicles</span><span class="p">(</span><span class="n">pen_list</span><span class="o">=</span><span class="p">[[</span><span class="mf">760.0</span><span class="p">,</span> <span class="mf">579.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">620.0</span><span class="p">,</span> <span class="mf">629.0</span><span class="p">],</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">                                 [620.0, 629.0],</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">                                 [780.0, 631.0], [533.0, 571.0],</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">                                 [378.0, 627.0], [378.0, 627.0],</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">                                 [558.0, 631.0]] )</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">[20.369984003523715, 21.137327423466722]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateThickness" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculateThickness</span><span class="p">(</span><span class="n">thick_list</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.calculateThickness" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to calculate distance between deep and superficial
muscle aponeuroses, also known as muscle thickness.</p>
<p>The length of the segment is calculated by determining the absolute
distance of the y-coordinates of two points.
Here, the muscle thickness is calculated considering only the
y-coordinates of the start and end points of the drawn segments.
In this way, incorrect placement of the segments by drawing skewed
lines can be accounted for. Then the thickness is outputted in
pixel units.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>thick_list</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the first mouse
click event and the mouse release event of the muscle thickness
annotation. This must be the points at the beginning and end of
the thickness segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>thickness</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List variable containing the muscle thickness in pixel units.
This value is calculated using only the
difference of the y-coordinates of the two points. If multiple
segments are drawn, multiple thickness values are outputted.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">calculateThickness</span><span class="p">(</span><span class="n">thick_list</span><span class="o">=</span><span class="p">[[</span><span class="mi">450</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">459</span><span class="p">,</span> <span class="mi">200</span><span class="p">]])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">[159]</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.click" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">click</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.click" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to record mouse clicks on canvas.</p>
<p>When the left mouse button is clicked on the canvas, the
xy-coordinates are stored for further analysis. When the button
is clicked multiple times, multiple values are stored.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>tk.Event variable containing the mouse event
that is bound to the instance method.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonPress-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.closeWindow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">closeWindow</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.closeWindow" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to close window upon call.</p>
<p>This method is evoked by clicking the button "Break Analysis".
It is necessary to use a different function, otherwise
the window would be destroyed upon starting.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.compileSaveResults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compileSaveResults</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.compileSaveResults" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to save the analysis results.</p>
<p>A pd.DataFrame object must be used. The results
inculded in the dataframe are saved to an .xlsx file. Depending
on the form of class initialization, the .xlsx file is
either saved to self.root (GUI) or self.out (command prompt).</p>


<details class="note" open>
  <summary>Notes</summary>
  <p>An .xlsx file is saved to a specified location
containing all analysis results.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.drag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drag</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.drag" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to record mouse cursor dragging on canvas.</p>
<p>When the cursor is dragged on the canvas, the
xy-coordinates are stored and updated for further analysis.
This is used to draw the line that follows the cursor
on the screen. Coordinates are only recorded when the left
mouse button is pressed.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>tk.Event variable containing the mouse event
that is bound to the instance method.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.getAngle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getAngle</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.getAngle" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to calculate angle between three points.</p>
<p>The angle is calculated using the arc tangent. The arc tangent is used
to find the slope in radians when Y and X co-ordinates are given. The
output is the arc tangent of y/x in radians, which is between PI and
-PI. Then the output is converted to degrees.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>a</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the first mouse
click event of the pennation angle annotation. This must be the
point at the beginning of the fascicle segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>b</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the second mouse
click event of the pennation angle annotation. This must be the
point at the intersection between fascicle and aponeurosis.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>c</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List variable containing the xy-coordinates of the fourth
mouse event of the pennation angle annotation. This must be
the endpoint of the aponeurosis segment.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="list">list</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ang</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Float variable containing the pennation angle in degrees between
the segments drawn on the canvas by the user. Only the angle
smaller than 180 degrees is returned.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">getAngle</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mf">904.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">],</span> <span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">450</span><span class="p">,</span><span class="mi">380</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="mi">670</span><span class="p">,</span><span class="mi">385</span><span class="p">])</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">25.6</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.release" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">release</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.release" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to record mouse button releases on canvas.</p>
<p>When the left mouse button is released on the canvas, the
xy-coordinates are stored for further analysis. When the button
is released multiple times, multiple values are stored.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>tk.Event variable containing the mouse event
that is bound to the instance method.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-pycon highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonRelease-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">)</span>
</span></code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.saveResults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">saveResults</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.saveResults" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance Method to save the analysis results to a pd.DataFrame.</p>
<p>A list of each variable to be saved must be used. The list must
contain the coordinates of the recorded events during
parameter analysis. Then, the respective parameters are calculated
using the coordinates in each list and inculded in a dataframe.
Estimates or fascicle length, pennation angle,
muscle thickness are saved.</p>


<details class="note" open>
  <summary>Notes</summary>
  <p>In order to correctly calculate the muscle parameters, the amount of
coordinates must be specific. See class documentatio of documentation
of functions used to calculate parameters.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <p>self.calculateThickness, self.calculateFascicle,
self.calculatePennation</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setAngles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setAngles</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setAngles" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to display the instructions for pennation angle
analysis.</p>
<p>This function is bound to the "Pennation Angle" radiobutton and
appears each time the button is selected. In this way, the user
is reminded on how to analyze pennation angle.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setApo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setApo</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setApo" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to display the instructions for aponeuroses
extending.</p>
<p>This function is bound to the "Draw Aponeurosis" radiobutton and
appears each time the button is selected. In this way, the user
is reminded on how to draw aponeurosis extension on the image.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setFascicles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setFascicles</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setFascicles" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to display the instructions for muscle fascicle
analysis.</p>
<p>This function is bound to the "Muscle Fascicles" radiobutton and
appears each time the button is selected. In this way, the user
is reminded on how to analyze muscle fascicles.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setScale" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setScale</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setScale" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to display the instructions for image scaling.</p>
<p>This function is bound to the "Scale Image" radiobutton and
appears each time the button is selected. In this way, the user
is reminded on how to scale the image.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setThickness" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setThickness</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.setThickness" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to display the instructions for muscle thickness
analysis.</p>
<p>This function is bound to the "Muscle Thickness" radiobutton and
appears each time the button is selected. In this way, the user
is reminded on how to analyze muscle thickness.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.stopAnalysis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stopAnalysis</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.stopAnalysis" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to stop the current analysis
on the canvas in the GUI.</p>
<p>The analysis is stopped upon clicking of "Break Analysis"
button in the GUI. The current analysis results are saved
when the analysis is terminated. The analysis can be
terminated at any timepoint during manual annotation. Prior to
terminating, the user is asked for confirmation.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.updateImage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">updateImage</span><span class="p">()</span></code>

<a href="#DL_Track_US.gui_helpers.manual_tracing.ManualAnalysis.updateImage" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Instance method to update the current image displayed
on the canvas in the GUI.</p>
<p>The image is updated upon clicking of "Next Image"
button in the GUI. Images can be updated until all
images have been analyzed. Even when the image is updated,
the analysis results are stored.</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 7, 2025 18:17:13 CEST">April 7, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 7, 2025 18:17:13 CEST">April 7, 2025</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2026. DL_Track_US - <a href="#__consent">Change cookie settings</a>

    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/PaulRitsche/DL_Track_US" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.researchgate.net/profile/Paul-Ritsche" target="_blank" rel="noopener" title="www.researchgate.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 32v448h448V32zm262.2 334.4c-6.6 3-33.2 6-50-14.2-9.2-10.6-25.3-33.3-42.2-63.6-8.9 0-14.7 0-21.4-.6v46.4c0 23.5 6 21.2 25.8 23.9v8.1c-6.9-.3-23.1-.8-35.6-.8-13.1 0-26.1.6-33.6.8v-8.1c15.5-2.9 22-1.3 22-23.9V225c0-22.6-6.4-21-22-23.9V193c25.8 1 53.1-.6 70.9-.6 31.7 0 55.9 14.4 55.9 45.6 0 21.1-16.7 42.2-39.2 47.5 13.6 24.2 30 45.6 42.2 58.9 7.2 7.8 17.2 14.7 27.2 14.7zm22.9-135c-23.3 0-32.2-15.7-32.2-32.2V167c0-12.2 8.8-30.4 34-30.4s30.4 17.9 30.4 17.9l-10.7 7.2s-5.5-12.5-19.7-12.5c-7.9 0-19.7 7.3-19.7 19.7v26.8c0 13.4 6.6 23.3 17.9 23.3 14.1 0 21.5-10.9 21.5-26.8h-17.9v-10.7h30.4c0 20.5 4.7 49.9-34 49.9m-116.5 44.7c-9.4 0-13.6-.3-20-.8v-69.7c6.4-.6 15-.6 22.5-.6 23.3 0 37.2 12.2 37.2 34.5 0 21.9-15 36.6-39.7 36.6"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ritpau" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use only the minimum cookies required by GitHub to ensure our website functions smoothly. You can disable them anytime, because your privacy is our priority!</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["versioning"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>